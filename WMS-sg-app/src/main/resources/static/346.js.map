{"version":3,"file":"346.js","mappings":"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","sources":["./src/app/components/transaction/stktrf-entry/stktrf-entry.component.ts","./src/app/components/transaction/stktrf-entry/stktrf-entry.component.html","./src/app/components/transaction/stktrf-modify/stktrf-modify.component.ts","./src/app/components/transaction/stktrf-modify/stktrf-modify.component.html","./src/app/modules/stktrf.module.ts"],"sourcesContent":["import { Component, OnInit, Inject, ViewChild, ElementRef, HostListener, Console } from '@angular/core';\nimport { FormGroup, FormControl, Validators, FormBuilder } from '@angular/forms';\nimport { MedicoUtility } from 'src/app/classes/medico-utility';\nimport { MedicoService } from 'src/app/services/medico/medico.service';\nimport { MedicoSession } from 'src/app/classes/medico-session';\nimport { Constants } from 'src/app/classes/constants';\nimport { StktrfService } from 'src/app/services/stk-trf/stktrf.service';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSelect } from '@angular/material/select';\n\nimport { MatDialog, MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\n\n\nimport { UserService } from '../../../services/user/user.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-stktrf-entry',\n  templateUrl: './stktrf-entry.component.html',\n  styleUrls: ['./stktrf-entry.component.css']\n})\nexport class StktrfEntryComponent implements OnInit {\n\n  session : MedicoSession;\n  constants : Constants = new Constants();\n\n  @ViewChild(\"prodSelection\") prodSelection! : MatSelect;\n  @ViewChild(\"recvloc\") recvloc !: MatSelect;\n\n  recLocationList : Array<any>|null = null;\n  nilGstOptionsList: Array<any> =new Array();\n  tranTypeList: Array<any> =new Array();\n  prodList : Array<any>|null = null;\n  isSaleable: boolean = true;\n  stockTypes : Array<any>|null = null;\n  batchList!: MatTableDataSource<any>;\n  prodDisabled: boolean = false;\n  enabledProdId!:string;\n  selectedStockType: Array<any> =new Array();\n\n  batchIds : Array<any> =new Array();\n  batchTrfRates : Array<any> =new Array();\n  batchStocks : Array<any> =new Array();\n  batchBilledQtys  : Array<any> =new Array();\n  batchFreeQtys : Array<any> =new Array();\n  batchValues : Array<any> =new Array();\n\n  headerFreezed: boolean = false;\n  tranTypeTemp!:string;\n  recLocationTemp!:string;\n  nilGstIndTemp!:string;\n\n  companycode : any ;\n  companyFlag : any ;\n  dispatchParameters : Array<any>|null = null;\n\n  @ViewChild(MatPaginator) paginator!: MatPaginator;\n  // displayedColumns: string[] = [\"BatchNo\",\"ExpiryDate\",\"Rate\",\"Stock\",\"BilledQty\",\"FreeQty\",\"Value\"];\n  displayedColumns: string[] = [\"BatchNo\",\"MfgDate\",\"ExpiryDate\",\"Rate\",\"TaxRate\",\"Stock\",\"BilledQty\",\"Value\"];\n\n  form : FormGroup ;\n\n\n\n  ngOnInit() {\n  }\n\n   constructor(\n    private userService :UserService,\n    public stktrfService : StktrfService,\n    private medicoUtility : MedicoUtility,\n    public medicoService: MedicoService,\n    public fb: FormBuilder,\n    public dialog: MatDialog,\n    private el: ElementRef,\n    private router: Router\n\n  ) {\n\n\n    \n  this.form  = this.fb.group({\n    saveMode : new FormControl(\"\", Validators.required),\n    headerId : new FormControl(0),\n\n    sendSubCompId: new FormControl(\"\"),\n    sendLocId: new FormControl(\"\"),\n    sendLocStateId: new FormControl(\"\"),\n    stockTypeDetId: new FormControl(\"\"),\n\n    tranType: new FormControl(\"\", Validators.required),\n    sendLocation: new FormControl(\"\", Validators.required),\n    recLocation: new FormControl(\"\", Validators.required),\n    trfType: new FormControl(\"\", Validators.required),\n    stktrfNo: new FormControl(\"\"),\n    trfDate: new FormControl(\"\", Validators.required),\n    nilGstInd: new FormControl(\"\", Validators.required),\n\n    productId: new FormControl(\"\", Validators.required),\n    stockTypeId: new FormControl(\"\"),\n    billedQty: new FormControl(\"\", Validators.required),\n    freeQty: new FormControl(\"\"),\n    totalStock: new FormControl(\"\"),\n    wthStkQty: new FormControl(\"\"),\n    billableStk: new FormControl(\"\"),\n    billedStkValue: new FormControl(\"\"),\n\n    totalBilledQty: new FormControl(\"\"),\n    totalFreeQty: new FormControl(\"\"),\n    totalStkTrfvalue: new FormControl(\"\"),\n\n    batchIds: new FormControl(\"\"),\n    batchBilledQtys: new FormControl(\"\"),\n    batchFreeQtys: new FormControl(\"\"),\n    batchTrfRates: new FormControl(\"\"),\n\n    currPeriodCode: new FormControl(\"\"),\n    currFinYear: new FormControl(\"\"),\n    empId: new FormControl(\"\"),\n    gstInd: new FormControl(\"\"),\n\n  });\n\n\n    // getting company code\n    userService.getcompanydata().subscribe(res=>{\n      this.companycode = res.company.company;\n      if(this.companycode.trim() =='PAL'){\n        //console.log(this.companycode);\n        this.companyFlag = true ;\n        //console.log(\"inside getcompdata fn\"+this.companycode);\n      }\n    });\n    this.medicoService.headingName = \"Stock Transfer Entry\";\n    this.form.get(\"saveMode\")?.setValue(this.constants.ENTRY_MODE.toString());\n    this.medicoUtility.toggleProgressBar(true);\n    this.session = this.medicoUtility.getSessionVariables();\n    this.medicoUtility.toggleProgressBar(false);\n    this.nilGstOptionsList = [ { key: \"N\", value: \"No\"},{ key: \"Y\", value: \"Yes\"}];\n    this.stktrfService.getDataForStkTrfEntry(this.session.EMP_ID).subscribe(response => {\n      this.form.get(\"sendLocation\")?.setValue(response.sendLocName);\n      this.form.get(\"sendSubCompId\")?.setValue(response.sendSubCompId);\n      this.form.get(\"sendLocId\")?.setValue(response.sendLocId);\n      this.form.get(\"sendLocStateId\")?.setValue(response.sendLocStateId);\n      this.recLocationList=response.recLocations;\n      this.dispatchParameters = response.dispatchParametersList;\n      this.form.get(\"trfType\")?.setValue(response.trfType);\n      this.form.get(\"trfDate\")?.setValue(response.stkTrfDate);  \n      this.medicoUtility.toggleProgressBar(false);\n      \n      if(this.dispatchParameters)\n      this.tranTypeList = [ { key: \"85\", value: this.dispatchParameters[0].sgprmdet_disp_nm},\n      { key: \"86\", value:this.dispatchParameters[1].sgprmdet_disp_nm}];\n      this.form.get(\"nilGstInd\")?.setValue(this.nilGstOptionsList[0].key);\n      this.form.get(\"tranType\")?.setValue(this.tranTypeList[0].key);\n    });\n    // this.tranTypeList = [ { key: \"85\", value: \"Saleable\"},{ key: \"86\", value: \"Non Saleable\"}];\n    // this.form.get(\"nilGstInd\")?.setValue(this.nilGstOptionsList[0].key);\n    // this.form.get(\"tranType\")?.setValue(this.tranTypeList[0].key);\n    // this.getDataForStkTrfEntry();\n  }\n\n  scroll(el: HTMLElement) {\n    el.scrollIntoView({behavior: 'smooth'});\n}\n\n\n  getDataForStkTrfEntry() {\n    this.medicoUtility.toggleProgressBar(true);\n    this.stktrfService.getDataForStkTrfEntry(this.session.EMP_ID).subscribe(response => {\n      this.form.get(\"sendLocation\")?.setValue(response.sendLocName);\n      this.form.get(\"sendSubCompId\")?.setValue(response.sendSubCompId);\n      this.form.get(\"sendLocId\")?.setValue(response.sendLocId);\n      this.form.get(\"sendLocStateId\")?.setValue(response.sendLocStateId);\n      this.recLocationList=response.recLocations;\n      this.form.get(\"trfType\")?.setValue(response.trfType);\n      this.form.get(\"trfDate\")?.setValue(response.stkTrfDate);\n      this.medicoUtility.toggleProgressBar(false);\n    });\n    \n  }\n\n  getProductList() {\n    if(this.form.get(\"nilGstInd\")?.valid && this.form.get(\"recLocation\")?.valid && this.form.get(\"tranType\")?.valid) {\n\n      if(this.form.get(\"tranType\")?.value=== '85') {\n        this.medicoUtility.toggleProgressBar(true);\n        this.batchList = new  MatTableDataSource<any>();\n        this.prodList=new Array();\n        this.form.get(\"wthStkQty\")?.reset();\n        this.form.get(\"billableStk\")?.reset();\n        this.form.get(\"totalStock\")?.reset();\n        this.form.get('totalBilledQty')?.reset();\n        this.form.get('totalFreeQty')?.reset();\n        this.form.get('totalStkTrfvalue')?.reset();\n        this.prodDisabled=false;\n        this.enabledProdId='';\n        this.stktrfService.getProductListBySendRecLoc(this.form.get(\"sendLocId\")?.value,this.form.get(\"sendSubCompId\")?.value,\n        this.form.get(\"sendLocStateId\")?.value,this.form.get(\"nilGstInd\")?.value,'').subscribe(response => {\n          this.prodList=(response.prodList as Array<any>).splice(0);\n          this.form.get('productId')?.reset();\n          this.medicoUtility.toggleProgressBar(false);\n        });\n\n      } else {\n        if(this.form.get(\"stockTypeId\")?.valid && this.form.get(\"stockTypeId\")?.value!=='') {\n          this.medicoUtility.toggleProgressBar(true);\n          this.batchList = new  MatTableDataSource<any>();\n          this.prodList=new Array();\n          this.form.get(\"wthStkQty\")?.reset();\n          this.form.get(\"billableStk\")?.reset();\n          this.form.get(\"totalStock\")?.reset();\n          this.form.get('totalBilledQty')?.reset();\n          this.form.get('totalFreeQty')?.reset();\n          this.form.get('totalStkTrfvalue')?.reset();\n          this.prodDisabled=false;\n          this.enabledProdId='';\n          this.selectedStockType=this.form.get(\"stockTypeId\")?.value;\n          this.stktrfService.getProductListBySendRecLoc(this.form.get(\"sendLocId\")?.value,this.form.get(\"sendSubCompId\")?.value,\n          this.form.get(\"sendLocStateId\")?.value,this.form.get(\"nilGstInd\")?.value,this.selectedStockType[0]).subscribe(response => {\n            this.prodList=(response.prodList as Array<any>).splice(0);\n            this.form.get('productId')?.reset();\n            this.medicoUtility.toggleProgressBar(false);\n          });\n        }\n      }\n     \n\n    }\n  \n  }\n\n  getStockTypes() {\n    if(this.form.get(\"tranType\")?.valid && this.form.get(\"tranType\")?.value== '86') {\n      this.isSaleable=false;\n      this.medicoUtility.toggleProgressBar(true);\n      this.stktrfService.getStockTypes().subscribe(response => {\n        this.stockTypes = (response.stockTypes as Array<any>).splice(0);     \n        this.medicoUtility.toggleProgressBar(false);\n      });\n      this.getProductList();\n      this.medicoUtility.toggleProgressBar(false);\n    } else {\n      this.isSaleable=true;\n      this.getProductList();\n    }\n  }\n \n  getBatchDetails() {\n    this.medicoUtility.toggleProgressBar(true);\n    if(this.form.get(\"tranType\")?.valid && this.form.get(\"productId\")?.valid) {\n    \n      this.stktrfService.setProdLock(this.form.get(\"productId\")?.value,this.form.get(\"sendLocId\")?.value,\n      this.session.EMP_ID).subscribe(response => {\n        if(response) {\n          this.prodDisabled=true;\n          this.enabledProdId=this.form.get(\"productId\")?.value;\n          if(this.form.get(\"stockTypeId\")?.valid && this.form.get(\"stockTypeId\")?.value!=='' && !this.isSaleable) {\n            \n            this.medicoUtility.toggleProgressBar(true);\n            this.selectedStockType=this.form.get(\"stockTypeId\")?.value;\n            //console.log(\"this.selectedStockType ::\"+this.selectedStockType[0]);\n            //console.log(\"this.selectedStockType ::\"+this.selectedStockType[1]);\n            this.stktrfService.getBatchDetailsForProd(this.form.get(\"recLocation\")?.value,this.form.get(\"sendLocId\")?.value,this.form.get(\"productId\")?.value,\n            this.form.get(\"tranType\")?.value,this.selectedStockType[0]).subscribe(response => {\n              this.medicoUtility.toggleProgressBar(true);\n              this.batchList = new MatTableDataSource((response.batchList as Array<any>).slice(0));\n              this.batchList.paginator = this.paginator;\n              this.batchIds=response.batchIds;\n              this.batchTrfRates=response.batchTrfRates;\n              this.batchStocks=response.batchStocks;\n              this.form.get(\"wthStkQty\")?.setValue(response.withheld_stk);\n              this.form.get(\"billableStk\")?.setValue(response.billable_stk);\n              this.form.get(\"totalStock\")?.setValue(response.total_stock);\n              this.medicoUtility.toggleProgressBar(false);\n            });\n          } else {\n            this.medicoUtility.toggleProgressBar(true);\n            this.stktrfService.getBatchDetailsForProd(this.form.get(\"recLocation\")?.value,this.form.get(\"sendLocId\")?.value,this.form.get(\"productId\")?.value,\n            this.form.get(\"tranType\")?.value,'').subscribe(response => {\n              this.medicoUtility.toggleProgressBar(true);\n              this.batchList = new MatTableDataSource((response.batchList as Array<any>).slice(0));\n              this.batchList.paginator = this.paginator;\n              this.batchIds=response.batchIds;\n              this.batchTrfRates=response.batchTrfRates;\n              this.batchStocks=response.batchStocks;\n              this.form.get(\"wthStkQty\")?.setValue(response.withheld_stk);\n              this.form.get(\"billableStk\")?.setValue(response.billable_stk);\n              this.form.get(\"totalStock\")?.setValue(response.total_stock);\n              this.medicoUtility.toggleProgressBar(false);\n            });\n    \n          }\n        } else {\n          this.medicoUtility.toggleProgressBar(false);\n          this.form.get('productId')?.reset();\n          this.medicoService.popup(\"Error Message\", \"In use. Select any other\");\n        }\n\n         \n      });\n\n    } else {\n      this.medicoUtility.toggleProgressBar(false);\n    }\n  }\n\n  resetDetails() {\n    if(this.form.get(\"productId\")?.valid) {\n      this.stktrfService.releaseProdLock(this.form.get(\"productId\")?.value,this.form.get(\"sendLocId\")?.value,\n      this.session.EMP_ID).subscribe(response => {\n      });\n    }\n    this.form.get('productId')?.reset();\n    this.form.get('billedQty')?.reset();\n    this.form.get('freeQty')?.reset();\n    this.form.get('totalStock')?.reset();\n    this.form.get('wthStkQty')?.reset();\n    this.form.get('billableStk')?.reset();\n    this.form.get('billedStkValue')?.reset();\n    this.form.get('totalBilledQty')?.reset();\n    this.form.get('totalFreeQty')?.reset();\n    this.form.get('totalStkTrfvalue')?.reset();\n    this.batchList = new  MatTableDataSource<any>();\n    this.batchIds =new Array();\n    this.batchTrfRates=new Array();\n    this.batchStocks=new Array();\n    this.batchBilledQtys  =new Array();\n    this.batchFreeQtys =new Array();\n    this.batchValues=new Array();\n    this.prodDisabled=false;\n    this.enabledProdId='';\n  }\n\n  setBatchBilledQty() {\n    if(this.form.get('billedQty')?.valid) {\n      if(parseFloat(this.form.get(\"billedQty\")?.value) > 0) {\n        if(parseFloat(this.form.get(\"billedQty\")?.value) > parseFloat(this.form.get(\"billableStk\")?.value)) {\n          this.form.get('billedQty')?.reset();\n          this.medicoService.popup(\"Error Message\", \"Insufficient Stock \");\n        } else {\n          //console.log(\"batchBilledQty::\"+this.batchBilledQtys);\n          //console.log(\"batchFreeQty::\"+this.batchFreeQtys);\n          //console.log(\"batchTrfRates::\"+this.batchTrfRates);\n          //console.log(\"batchStocks::\"+this.batchStocks);\n          //console.log(\"batchIds::\"+this.batchIds);\n          var total : string='0';\n          var billed : string =this.form.get(\"billedQty\")?.value;\n          for (let i = 0; i < this.batchIds.length; i++) {\n\n           if(parseFloat(this.batchStocks[i]) >= parseFloat(billed)) {\n              this.batchFreeQtys[i]='0.00';\n              this.batchBilledQtys[i]=parseFloat(billed).toFixed(2);\n              billed='0.00';\n              this.batchValues[i]=(parseFloat(this.batchBilledQtys[i]) * parseFloat(this.batchTrfRates[i])).toFixed(2);\n              total = (parseFloat(total) + parseFloat( this.batchValues[i])).toFixed(2);\n           } else {\n            this.batchFreeQtys[i]='0.00';\n            this.batchBilledQtys[i]=parseFloat(this.batchStocks[i]).toFixed(2);\n            billed=(parseFloat(billed) - parseFloat(this.batchStocks[i])).toFixed(2);\n            this.batchValues[i]=(parseFloat(this.batchBilledQtys[i]) * parseFloat(this.batchTrfRates[i])).toFixed(2);\n            total = (parseFloat(total) + parseFloat( this.batchValues[i])).toFixed(2);\n           }\n          }\n          this.form.get(\"billedStkValue\")?.setValue(total);\n          this.form.get(\"totalBilledQty\")?.setValue(this.form.get(\"billedQty\")?.value);\n          this.form.get(\"totalStkTrfvalue\")?.setValue(total);\n        }\n\n      } else {\n        this.form.get('billedQty')?.reset();\n      }\n    }\n  }\n\n  checkBilledQuantity($event:any,index:any) {\n    var num=$event.target.value;\n    if(parseFloat(num) >= 0) {\n      $event.target.value=parseFloat(num).toFixed(2);\n      var billed_qty : string =this.form.get(\"billedQty\")?.value;\n\t  \tvar total_soldqty = '0';\n      for (let i = 0; i < this.batchIds.length; i++) {\n        total_soldqty=(parseFloat(total_soldqty) + parseFloat(this.batchBilledQtys[i])).toFixed(2);\n        this.batchValues[index]= (parseFloat(num) * parseFloat(this.batchTrfRates[index])).toFixed(2);\n      }\n\n      if(parseFloat(total_soldqty) > parseFloat(billed_qty)) {\n        $event.target.value=0;\n        this.batchValues[index]=0;\n        this.medicoService.popup(\"Error Message\", \"Quantity mismatch\");\n      }\n\n    } else {\n      $event.target.value=0;\n    }\n\n  }\n\n  save() {\n    this.medicoUtility.toggleProgressBar(true);\n    this.form.get(\"currFinYear\")?.setValue(this.session.CURR_FIN_YEAR);\n    this.form.get(\"currPeriodCode\")?.setValue(this.session.CURR_PERIOD);\n    this.form.get(\"empId\")?.setValue(this.session.EMP_ID); \n    this.form.get(\"gstInd\")?.setValue(this.session.gst_ind);\n    this.form.get(\"batchIds\")?.setValue(this.batchIds); \n    this.form.get(\"batchBilledQtys\")?.setValue(this.batchBilledQtys); \n    this.form.get(\"batchFreeQtys\")?.setValue(this.batchFreeQtys);  \n    this.form.get(\"batchTrfRates\")?.setValue(this.batchTrfRates);\n    \n    if(!this.isSaleable) {\n    this.selectedStockType=this.form.get(\"stockTypeId\")?.value;\n    this.form.get(\"stockTypeId\")?.setValue(this.selectedStockType[0]);\n    this.form.get(\"stockTypeDetId\")?.setValue(this.selectedStockType[1]);\n    }\n    if(this.headerFreezed) {\n      this.form.get(\"tranType\")?.setValue(this.tranTypeTemp);\n      this.form.get(\"recLocation\")?.setValue(this.recLocationTemp);\n      this.form.get(\"nilGstInd\")?.setValue(this.nilGstIndTemp);\n    } else {\n      this.tranTypeTemp=this.form.get(\"tranType\")?.value;\n      this.recLocationTemp=this.form.get(\"recLocation\")?.value;\n      this.nilGstIndTemp=this.form.get(\"nilGstInd\")?.value;\n    }\n    \n    if(this.form.valid) { \n      this.medicoUtility.toggleProgressBar(true);\n      try {\n      this.stktrfService.saveStkTrf(this.form).subscribe(response => {\n        if (response.DATA_SAVED) {\n          this.medicoService.openJustSnackBar(response.RESPONSE_MESSAGE, this.constants.snack_bar_milliseconds_8k);\n          this.form.get(\"headerId\")?.setValue(Number(response.headerId));\n          if(!this.headerFreezed) {\n            this.form.get(\"stktrfNo\")?.setValue((response.trans_no));\n          }\n          if(this.form.get(\"tranType\")?.value== '85' ) {\n            if(this.prodList)\n            this.prodList=this.prodList.filter(x => x.prodId !== this.form.get(\"productId\")?.value);\n          } else {\n            \n            this.form.get(\"stockTypeId\")?.setValue(this.selectedStockType);\n            if(this.prodList)\n            this.prodList=this.prodList.filter(x => x.prodId !== this.form.get(\"productId\")?.value);\n          }\n          this.resetDetails();\n          this.form.markAsUntouched();\n          this.headerFreezed = true;\n          this.medicoUtility.toggleProgressBar(false);\n\n          this.prodSelection.focus(); \n        } else {\n          this.medicoUtility.toggleProgressBar(false);\n          this.medicoService.openJustSnackBar(response.RESPONSE_MESSAGE, this.constants.snack_bar_milliseconds_8k);\n        }\n      }, (error) => {\n        this.medicoUtility.toggleProgressBar(false);\n        this.medicoService.openJustSnackBar(\"Network Error Occurred!\", this.constants.snack_bar_milliseconds_8k);\n\n      });\n\n    } catch (error) {\n      this.medicoUtility.toggleProgressBar(false);\n      this.medicoService.popup(\"Stock Transfer\", \"Network Error Occurred!\");\n    }\n\n    } else {\n      this.medicoUtility.toggleProgressBar(false);\n    }\n  }\n\n  createNewStkTrf() {\n    this.medicoUtility.toggleProgressBar(true);\n    this.resetDetails();\n    this.form.reset();\n    this.form.markAsUntouched();\n    this.form.get('productId')?.reset();\n    this.form.get('billedQty')?.reset();\n    this.form.get('freeQty')?.reset();\n    this.form.get('totalStock')?.reset();\n    this.form.get('wthStkQty')?.reset();\n    this.form.get('billableStk')?.reset();\n    this.form.get('billedStkValue')?.reset();\n    this.form.get('totalBilledQty')?.reset();\n    this.form.get('totalFreeQty')?.reset();\n    this.form.get('totalStkTrfvalue')?.reset();\n    this.form.get('stockTypeId')?.reset();\n    this.batchList = new  MatTableDataSource<any>();\n    this.batchIds =new Array();\n    this.batchTrfRates=new Array();\n    this.batchStocks=new Array();\n    this.batchBilledQtys  =new Array();\n    this.batchFreeQtys =new Array();\n    this.batchValues=new Array();\n    this.prodDisabled=false;\n    this.enabledProdId='';\n    this.dispatchParameters = new Array();\n    this.recLocationList =new Array();\n    this.nilGstOptionsList =new Array();\n    this.tranTypeList =new Array();\n    this.prodList =new Array();\n    this.isSaleable = true;\n    this.stockTypes =new Array();\n  \n\n    this.headerFreezed = false;\n    this.tranTypeTemp='';\n    this.recLocationTemp='';\n    this.nilGstIndTemp='';\n    this.form.get(\"headerId\")?.setValue(0);\n    this.form.get(\"saveMode\")?.setValue(this.constants.ENTRY_MODE.toString());\n    this.session = this.medicoUtility.getSessionVariables();\n    this.medicoUtility.toggleProgressBar(false);\n    this.nilGstOptionsList = [ { key: \"N\", value: \"No\"},{ key: \"Y\", value: \"Yes\"}];\n    this.stktrfService.getDataForStkTrfEntry(this.session.EMP_ID).subscribe(response => {\n      this.form.get(\"sendLocation\")?.setValue(response.sendLocName);\n      this.form.get(\"sendSubCompId\")?.setValue(response.sendSubCompId);\n      this.form.get(\"sendLocId\")?.setValue(response.sendLocId);\n      this.form.get(\"sendLocStateId\")?.setValue(response.sendLocStateId);\n      this.recLocationList=response.recLocations;\n      this.dispatchParameters = response.dispatchParametersList;\n      this.form.get(\"trfType\")?.setValue(response.trfType);\n      this.form.get(\"trfDate\")?.setValue(response.stkTrfDate);\n      this.medicoUtility.toggleProgressBar(false);\n      \n      if(this.dispatchParameters)\n      this.tranTypeList = [ { key: \"85\", value: this.dispatchParameters[0].sgprmdet_disp_nm},\n      { key: \"86\", value:this.dispatchParameters[1].sgprmdet_disp_nm}];\n      this.form.get(\"nilGstInd\")?.setValue(this.nilGstOptionsList[0].key);\n      this.form.get(\"tranType\")?.setValue(this.tranTypeList[0].key);\n\n      this.recvloc.focus();\n    });\n    // this.tranTypeList = [ { key: \"85\", value: \"Saleable\"},{ key: \"86\", value: \"Non Saleable\"}];\n    // this.form.get(\"nilGstInd\")?.setValue(this.nilGstOptionsList[0].key);\n    // this.form.get(\"tranType\")?.setValue(this.tranTypeList[0].key);\n    // this.getDataForStkTrfEntry();\n  }\n\n  checkDetails() {\n    if(this.form.get(\"headerId\")?.value!==0) {\n      this.medicoUtility.toggleProgressBar(true);\n      this.stktrfService.getSavedProdList(this.form.get(\"headerId\")?.value,this.form.get(\"sendLocId\")?.value).subscribe(response => {\n        if (response.savedProdList.length > 0) {\n          const dialogRef = this.dialog.open(StockTrfDetailComponent, {\n            width: '1000px',\n            data: { list : response.savedProdList}\n          });\n        }\n        this.medicoUtility.toggleProgressBar(false);\n      });\n    }\n  }\n  unlockprod(){\n\n    this.stktrfService.unlockProducts().subscribe(response => {});\n    this.router.navigate(['/medico-user/home']);\n  }\n\n}\n\n\n@Component({\n  selector: 'stk-trf-detail-dialog',\n  template: `\n  <h1 mat-dialog-title>Product Details</h1>\n  <div mat-dialog-content>\n    <table class=\"mytable table-full-width\">\n      <thead>\n        <tr>\n          <th>Transfer No</th>\n          <th>Product Name</th>\n          <th>Batch Number</th>\n          <th>Sold Qty</th>\n          <th>Rate</th>\n          <th>Value</th>\n        </tr>\n      </thead>\n      <tbody>\n      <tr *ngFor=\"let p of data.list; let i = index;\">\n        <td>{{ p.stockTrfNo }}</td>\n        <td>{{ p.productName }}</td>\n        <td>{{ p.batchNo }}</td>\n        <td align=\"right\">{{ p.soldQty }}</td>\n        <td align=\"right\">{{ p.rate }}</td>\n        <td align=\"right\">{{ (p.rate *  p.soldQty).toFixed(2) }}</td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n  <div mat-dialog-actions class=\"mt-1\">\n    <button mat-raised-button color=\"primary\" mat-dialog-close>Close</button>\n  </div>\n  `,\n})\n\nexport class StockTrfDetailComponent {\n  constructor(\n    public dialogRef: MatDialogRef<StockTrfDetailComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: any\n  ) {}\n  \n  onNoClick(): void {\n    this.dialogRef.close();\n  }\n\n}","<form [formGroup]=\"form\">\n  <div class=\"pl-1 pr-1 pb-1 container\">\n    <div fxLayout=\"row\" fxLayout.lt-md=\"column\" class=\"{{ constants.page_div_class }}\">\n      <div fxFlex=\"100%\">\n        <div  fxLayout=\"row\" fxLayout.lt-md=\"column\" class=\"pl-1 pt-1\" style=\"margin-bottom: -12px;\">\n\n            <mat-form-field fxFlex=\"25%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Dispatchable/Non Dispatchable</mat-label>\n              <!-- <ng-template #notPal>Saleable/Non Saleable</ng-template> -->\n              <mat-select tabindex=\"1\" formControlName=\"tranType\" matNativeControl [ngClass]=\"'mr-r-10'\" required (selectionChange)=\"getStockTypes()\" [disabled]=\"headerFreezed\">\n                <mat-option *ngFor=\"let list of tranTypeList\" [value]=\"list.key\" >{{ list.value }}</mat-option> \n              </mat-select>\n            </mat-form-field>\n\n            <mat-form-field fxFlex=\"25%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Sending Location</mat-label>\n              <input matInput type=\"text\" formControlName=\"sendLocation\" readonly [tabindex]=\"-1\">\n            </mat-form-field>\n\n            <mat-form-field fxFlex=\"25%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Receiving Location</mat-label>\n              <mat-select #recvloc tabindex=\"2\"  formControlName=\"recLocation\" matNativeControl [ngClass]=\"'mr-r-10'\" required (selectionChange)=\"getProductList()\" [disabled]=\"headerFreezed\">\n                <mat-option *ngFor=\"let l of recLocationList\" [value]=\"l.loc_id\" >{{ l.loc_nm }}</mat-option> \n              </mat-select>\n            </mat-form-field>\n         \n          \n            <mat-form-field fxFlex=\"25%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Transfer Type</mat-label>\n              <input matInput type=\"text\" formControlName=\"trfType\" readonly [tabindex]=\"-1\" required>\n            </mat-form-field>\n           \n          </div>\n\n          <div fxLayout=\"row\" fxLayout.lt-md=\"column\" class=\"pl-1 pt-0\">\n            <mat-form-field fxFlex=\"24.3%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Transfer No</mat-label>\n              <input matInput type=\"text\" formControlName=\"stktrfNo\" readonly [tabindex]=\"-1\">\n            </mat-form-field>\n\n            <mat-form-field fxFlex=\"24.3%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Transfer Date</mat-label>\n              <input matInput type=\"text\" formControlName=\"trfDate\" readonly [tabindex]=\"-1\" required>\n            </mat-form-field>\n\n            <mat-form-field fxFlex=\"24.3%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>NIL GST Products</mat-label>\n              <mat-select  tabindex=\"3\"  formControlName=\"nilGstInd\" matNativeControl [ngClass]=\"'mr-r-10'\" required (selectionChange)=\"getProductList()\" [disabled]=\"headerFreezed\">\n                <mat-option *ngFor=\"let list of nilGstOptionsList\" [value]=\"list.key\" >{{ list.value }}</mat-option> \n              </mat-select>\n            </mat-form-field>\n          \n          </div>\n\n      </div>    \n    </div>\n\n\n    <div fxLayout=\"row\" fxLayout.lt-md=\"column\" class=\"{{ constants.page_div_class }} pb-0\">\n      <div fxFlex=\"100%\">\n        <div fxLayout=\"row\" fxLayout.lt-md=\"column\" class=\"p-1 pb-0\">\n          <span class=\"purple-font bold-font help-title\" fxFlex=\"100%\">Transfer Order</span>\n        </div>\n          <div fxLayout=\"row\" fxLayout.lt-md=\"column\" class=\"pl-1 pt-0\" style=\"margin-bottom: -12px;\">\n\n            <mat-form-field fxFlex=\"24.2%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Stock Type</mat-label>\n              <mat-select formControlName=\"stockTypeId\" matNativeControl [ngClass]=\"'mr-r-10'\" [disabled]=\"isSaleable\" (selectionChange)=\"getProductList()\">\n                <mat-option *ngFor=\"let s of stockTypes\" [value]=\"[s.sgprmdet_nm,s.sg_prmdet_id]\" >{{ s.sgprmdet_disp_nm }}</mat-option> \n              </mat-select>\n            </mat-form-field>\n\n            <mat-form-field fxFlex=\"49.3%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Product</mat-label>\n              <mat-select #prodSelection tabindex=\"4\" formControlName=\"productId\" matNativeControl [ngClass]=\"'mr-r-10'\" required (selectionChange)=\"getBatchDetails()\" >\n                <mat-option *ngFor=\"let list of prodList\" matTooltip=\"{{ list.prodName }}\" [value]=\"list.prodId\" [disabled]=\"list.prodId !== enabledProdId && prodDisabled\">{{ list.prodName }}</mat-option> \n              </mat-select>\n            </mat-form-field>\n            <button mat-raised-button type=\"button\" class=\"mr-r-10 color-3\" (click)=\"resetDetails()\">Reset</button>\n\n          </div>\n\n          <div fxLayout=\"row\" fxLayout.lt-md=\"column\" class=\"pl-1 pt-0 pb-0\">\n\n\n            <mat-form-field fxFlex=\"25%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Quantity</mat-label>\n              <input  tabindex=\"5\" appNumbersOnly step=\"0.01\" matInput class=\"text-right\" type=\"text\" formControlName=\"billedQty\" required (change)=\"setBatchBilledQty()\" >\n            </mat-form-field>\n\n            <mat-form-field fxFlex=\"25%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Transfer Stock</mat-label>\n              <input matInput type=\"text\" class=\"text-right\" formControlName=\"billableStk\" readonly [tabindex]=\"-1\">\n            </mat-form-field>\n\n            <!-- <mat-form-field fxFlex=\"25%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Free Qty</mat-label>\n              <input appNumbersOnly step=\"0.01\" matInput class=\"text-right\" matInput type=\"text\" formControlName=\"freeQty\"  [tabindex]=\"-1\" readonly>\n            </mat-form-field> -->\n\n            <mat-form-field fxFlex=\"25%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Withheld Stock</mat-label>\n              <input matInput type=\"text\" class=\"text-right\" formControlName=\"wthStkQty\" readonly [tabindex]=\"-1\" >\n            </mat-form-field>\n\n            <mat-form-field fxFlex=\"25%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Total Stock</mat-label>\n              <input matInput type=\"text\" class=\"text-right\" formControlName=\"totalStock\" readonly [tabindex]=\"-1\" >\n            </mat-form-field>\n\n         \n\n            </div>\n\n            \n\n              <!-- <mat-form-field fxFlex=\"25%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n                <mat-label>value</mat-label>\n                <input matInput type=\"text\" class=\"text-right\" formControlName=\"billedStkValue\" readonly [tabindex]=\"-1\">\n              </mat-form-field> -->\n  \n\n\n\n\n        </div>\n      </div>\n\n      <div fxLayout=\"column\" fxLayout.lt-md=\"column\" class=\"{{ constants.page_div_class }}\" >\n        <div fxFlex=\"100%\">\n          <div fxLayout=\"row\" fxLayout.lt-md=\"column\" class=\"p-1 pb-0\">\n            <span class=\"purple-font bold-font help-title\" fxFlex=\"100%\">Batchwise Dispatch of the Transfer Order</span>\n          </div>\n          <div fxLayout=\"row\" fxLayout.lt-md=\"column\" class=\"p-1 pb-0\">\n          <div class=\"table-container mat-elevation-z2 width-only-100\" >\n            <table mat-table [dataSource]=\"batchList\" matSort\n            class=\"table-borders-right width-only-100 table-th-bg-primary thin-th mat-td-p mat-th-p\">\n            <ng-container matColumnDef=\"BatchNo\">\n              <th mat-header-cell *matHeaderCellDef>Batch No</th>\n              <td mat-cell *matCellDef=\"let row\">{{ row.batch_no }}</td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"MfgDate\">\n              <th mat-header-cell *matHeaderCellDef class=\"right-align\">Mfg Date</th>\n              <td mat-cell *matCellDef=\"let row\" class=\"right-align\">{{ row.mfg_date }}</td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"ExpiryDate\">\n              <th mat-header-cell *matHeaderCellDef class=\"right-align\">Expiry Date</th>\n              <td mat-cell *matCellDef=\"let row\" class=\"right-align\">{{ row.expiry_date }}</td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"Rate\">\n              <th mat-header-cell *matHeaderCellDef class=\"right-align\">Rate</th>\n              <td mat-cell *matCellDef=\"let row\" class=\"right-align\">{{ row.trfRate }}</td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"TaxRate\">\n              <th mat-header-cell *matHeaderCellDef class=\"right-align\">(IGST / SGST+CGST)</th>\n              <td mat-cell *matCellDef=\"let row\" class=\"right-align\">{{ row.taxRate }} %</td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"Stock\">\n              <th mat-header-cell *matHeaderCellDef class=\"right-align\">Stock</th>\n              <td mat-cell *matCellDef=\"let row\" class=\"right-align\"> {{ row.stock }}</td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"BilledQty\">\n              <th mat-header-cell *matHeaderCellDef class=\"right-align\">Transfer Qty</th>\n              <td mat-cell *matCellDef=\"let row;let i = index\" class=\"right-align\">\n                <input appNumbersOnly step=\"0.01\" matInput type=\"text\" class=\"text-right mat-input-batdetails\" [(ngModel)]=\"batchBilledQtys[i]\" [ngModelOptions]=\"{standalone: true}\" (change)=\"checkBilledQuantity($event,i)\">\n              </td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"Value\">\n              <th mat-header-cell *matHeaderCellDef class=\"right-align\">Value</th>\n              <td mat-cell *matCellDef=\"let row;let i = index\" class=\"right-align\">\n              {{ batchValues[i] }}\n            </td>\n            </ng-container>\n                       \n              <tr mat-header-row *matHeaderRowDef=\"displayedColumns; sticky: true\" mat-sort-header class=\"table-row1\"></tr>\n              <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\" class=\"table-row1\">\n            </table>\n            <mat-paginator [pageSizeOptions]=\"constants.paginator_upto_50\" showFirstLastButtons></mat-paginator>\n          </div>  \n          </div>  \n  \n          </div>\n        </div>\n\n        <div fxLayout=\"row\"  fxLayout.lt-md=\"column\" class=\"pl-1 pt-1\">\n            <mat-form-field fxFlex=\"15%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Total Transfer Qty</mat-label>\n              <input matInput type=\"text\" class=\"text-right\" formControlName=\"totalBilledQty\" readonly [tabindex]=\"-1\">\n            </mat-form-field>\n\n            <!-- <mat-form-field fxFlex=\"15%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Total Free Qty</mat-label>\n              <input matInput type=\"text\" class=\"text-right\" formControlName=\"totalFreeQty\" readonly [tabindex]=\"-1\">\n            </mat-form-field> -->\n\n            <mat-form-field fxFlex=\"15%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Total Value</mat-label>\n              <input matInput type=\"text\" class=\"text-right\" formControlName=\"totalStkTrfvalue\" readonly [tabindex]=\"-1\">\n            </mat-form-field>\n\n\n        </div>\n\n\n\n      <div fxLayout=\"row\" class=\"mt-1\">\n        <button mat-raised-button type=\"button\" tabindex=\"7\" class=\"mr-r-10  {{ constants.save_btn_class }}\" (click)=\"save()\" >Save</button>\n        <button mat-raised-button type=\"button\" class=\"mr-r-10 color-3\" (click)=\"checkDetails()\">View</button>\n        <button mat-raised-button type=\"button\" tabindex=\"8\" class=\"mr-r-10 color-9\" (click)=\"createNewStkTrf()\">New Stock Transfer</button>\n        <button mat-raised-button type=\"button\" class=\"mr-r-10 {{ constants.exit_btn_class }}\" (click)=\"unlockprod()\">Exit</button>\n\n      </div>\n\n  </div>\n</form>","import { Component, OnInit, Inject, ViewChild, ElementRef, HostListener, Console } from '@angular/core';\nimport { FormGroup, FormControl, Validators, FormBuilder } from '@angular/forms';\nimport { DatePipe } from '@angular/common';\nimport { MedicoUtility } from 'src/app/classes/medico-utility';\nimport { MedicoService } from 'src/app/services/medico/medico.service';\nimport { MedicoSession } from 'src/app/classes/medico-session';\nimport { Constants } from 'src/app/classes/constants';\nimport { StktrfService } from 'src/app/services/stk-trf/stktrf.service';\n\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSelect } from '@angular/material/select';\n\nimport { MatDialog, MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { Router } from '@angular/router';\n\n\n@Component({\n  selector: 'app-stktrf-modify',\n  templateUrl: './stktrf-modify.component.html',\n  styleUrls: ['./stktrf-modify.component.css']\n})\nexport class StktrfModifyComponent implements OnInit {\n\n  session : MedicoSession;\n  constants : Constants = new Constants();\n\n  recLocationList : Array<any>|null = null;\n  nilGstOptionsList: Array<any> =new Array();\n  tranTypeList: Array<any> =new Array();\n  prodList : Array<any>|null = null;\n  isSaleable: boolean = true;\n  stockTypes : Array<any>|null = null;\n  batchList!: MatTableDataSource<any>;\n  prodDisabled: boolean = false;\n  enabledProdId!:string;\n  selectedStockType: Array<any> =new Array();\n\n  batchIds : Array<any> =new Array();\n  batchTrfRates : Array<any> =new Array();\n  batchStocks : Array<any> =new Array();\n  batchBilledQtys  : Array<any> =new Array();\n  batchFreeQtys : Array<any> =new Array();\n  batchValues : Array<any> =new Array();\n  detailIds : Array<any> =new Array();\n\n  headerFreezed: boolean = false;\n  tranTypeTemp !:string;\n  recLocationTemp!:string;\n  nilGstIndTemp!:string;\n\n  transNoList: Array<any> |null= null;\n  maxDate:Date;\n  minDate:Date;\n  trfDate!:string |null;\n  stkAction:string;\n  isDelete: boolean = false;\n  \n\n  @ViewChild(MatPaginator) paginator !:  MatPaginator;\n  // displayedColumns: string[] = [\"BatchNo\",\"ExpiryDate\",\"Rate\",\"Stock\",\"BilledQty\",\"FreeQty\",\"Value\"];\n  displayedColumns: string[] = [\"BatchNo\",\"MfgDate\",\"ExpiryDate\",\"Rate\",\"TaxRate\",\"Stock\",\"BilledQty\",\"Value\"];\n\n  form : FormGroup;\n\n  ngOnInit() {\n  }\n\n   constructor(\n    public stktrfService : StktrfService,\n    private medicoUtility : MedicoUtility,\n    public medicoService: MedicoService,\n    public fb: FormBuilder,\n    public dialog: MatDialog,\n    private el: ElementRef,\n    private datePipe: DatePipe,\n    private router: Router\n  ) {\n\n\n    \n  this.form  = this.fb.group({\n    saveMode : new FormControl(\"\", Validators.required),\n    headerId : new FormControl(0),\n\n    sendSubCompId: new FormControl(\"\"),\n    sendLocId: new FormControl(\"\"),\n    sendLocStateId: new FormControl(\"\"),\n    stockTypeDetId: new FormControl(\"\"),\n\n    tranType: new FormControl(\"\", Validators.required),\n    sendLocation: new FormControl(\"\", Validators.required),\n    recLocation: new FormControl(\"\", Validators.required),\n    trfType: new FormControl(\"\", Validators.required),\n    stktrfNo: new FormControl(\"\"),\n    trfDateModify: new FormControl(new Date(), Validators.required),\n    nilGstInd: new FormControl(\"\", Validators.required),\n\n    productId: new FormControl(\"\", Validators.required),\n    stockTypeId: new FormControl(\"\"),\n    billedQty: new FormControl(\"\", Validators.required),\n    freeQty: new FormControl(\"\"),\n    totalStock: new FormControl(\"\"),\n    wthStkQty: new FormControl(\"\"),\n    billableStk: new FormControl(\"\"),\n    billedStkValue: new FormControl(\"\"),\n\n    totalBilledQty: new FormControl(\"\"),\n    totalFreeQty: new FormControl(\"\"),\n    totalStkTrfvalue: new FormControl(\"\"),\n\n    batchIds: new FormControl(\"\"),\n    batchBilledQtys: new FormControl(\"\"),\n    batchFreeQtys: new FormControl(\"\"),\n    batchTrfRates: new FormControl(\"\"),\n    detailIds: new FormControl(\"\"),\n    currPeriodCode: new FormControl(\"\"),\n    currFinYear: new FormControl(\"\"),\n    empId: new FormControl(\"\"),\n    gstInd: new FormControl(\"\"),\n\n  });\n    this.medicoService.headingName = \"Stock Transfer Modify\";\n    this.form.get(\"saveMode\")?.setValue(this.constants.MODIFY_MODE.toString());\n    this.medicoUtility.toggleProgressBar(true);\n    this.session = this.medicoUtility.getSessionVariables();\n    this.medicoUtility.toggleProgressBar(false);\n    this.nilGstOptionsList = [ { key: \"N\", value: \"No\"},{ key: \"Y\", value: \"Yes\"}];\n    this.tranTypeList = [ { key: \"85\", value: \"Dispatchable\"},{ key: \"86\", value: \"Non Dispatchable\"}];\n    this.form.get(\"nilGstInd\")?.setValue(this.nilGstOptionsList[0].key);\n    this.form.get(\"tranType\")?.setValue(this.tranTypeList[0].key);\n    this.maxDate=new Date();\n    this.minDate=new Date(new Date().getFullYear(), new Date().getMonth(), 1);\n    this.stkAction = 'AP';\n    this.getDataForStkTrfModify();\n  }\n\n  getDataForStkTrfModify() {\n    this.medicoUtility.toggleProgressBar(true);\n    this.stktrfService.getDataForStkTrfModify(this.session.EMP_ID).subscribe(response => {\n      this.form.get(\"sendLocation\")?.setValue(response.sendLocName);\n      this.form.get(\"sendSubCompId\")?.setValue(response.sendSubCompId);\n      this.form.get(\"sendLocId\")?.setValue(response.sendLocId);\n      this.form.get(\"sendLocStateId\")?.setValue(response.sendLocStateId);\n      this.recLocationList=response.recLocations;\n      this.form.get(\"trfType\")?.setValue(response.trfType);\n      this.medicoUtility.toggleProgressBar(false);\n    });\n    \n  }\n\n  getTransNoList() {\n    this.medicoUtility.toggleProgressBar(true);\n    if(this.form.get(\"sendLocId\")?.valid && this.form.get(\"recLocation\")?.valid && this.form.get(\"trfDateModify\")?.valid && this.form.get(\"tranType\")?.valid) {\n    this.trfDate=this.datePipe.transform(this.form.get(\"trfDateModify\")?.value, \"dd/MM/yyyy\");\n      this.stktrfService.getTransNoList(this.form.get(\"sendLocId\")?.value,this.form.get(\"recLocation\")?.value,\n    this.trfDate,this.form.get(\"tranType\")?.value).subscribe(response => {\n    this.medicoUtility.toggleProgressBar(true);\n     if(response.isData) {\n        this.transNoList=response.transNoList;\n     } else {\n       this.transNoList=new Array();\n      this.medicoService.popup(\"Message\", \"Invalid Transaction Number\");\n     }\n      this.medicoUtility.toggleProgressBar(false);\n    });\n  } else {\n    this.medicoUtility.toggleProgressBar(false);\n  }\n  }\n\n  setHeaderId() {\n    var num=this.form.get(\"stktrfNo\")?.value;\n    this.form.get(\"headerId\")?.setValue(num);\n  }\n\n  addProduct() {\n    this.stkAction=\"AP\";\n    this.isDelete=false;\n    this.resetDetails();\n    if(this.form.get(\"nilGstInd\")?.valid && this.form.get(\"recLocation\")?.valid && this.form.get(\"tranType\")?.valid) {\n\n      if(this.form.get(\"tranType\")?.value === '85') {\n        this.isSaleable=true;\n        this.medicoUtility.toggleProgressBar(true);\n        this.batchList = new  MatTableDataSource<any>();\n        this.prodList=new Array();\n        this.form.get(\"wthStkQty\")?.reset();\n        this.form.get(\"billableStk\")?.reset();\n        this.form.get(\"totalStock\")?.reset();\n        this.form.get('totalBilledQty')?.reset();\n        this.form.get('totalFreeQty')?.reset();\n        this.form.get('totalStkTrfvalue')?.reset();\n        this.prodDisabled=false;\n        this.enabledProdId='';\n        this.stktrfService.getAddProductListBySendRecLoc(this.form.get(\"sendLocId\")?.value,this.form.get(\"sendSubCompId\")?.value,\n        this.form.get(\"sendLocStateId\")?.value,this.form.get(\"nilGstInd\")?.value,'',this.form.get(\"stktrfNo\")?.value).subscribe(response => {\n          this.prodList=(response.prodList as Array<any>).splice(0);\n          this.form.get('productId')?.reset();\n          this.medicoUtility.toggleProgressBar(false);\n        });\n\n      } else {\n          this.isSaleable=false;\n          this.medicoUtility.toggleProgressBar(false);\n          // this.batchList = new  MatTableDataSource<any>();\n          // this.prodList=new Array();\n          // this.form.get(\"wthStkQty\")?.reset();\n          // this.form.get(\"billableStk\")?.reset();\n          // this.form.get(\"totalStock\")?.reset();\n          // this.form.get('totalBilledQty')?.reset();\n          // this.form.get('totalFreeQty')?.reset();\n          // this.form.get('totalStkTrfvalue')?.reset();\n          // this.prodDisabled=false;\n          // this.enabledProdId='';\n          // this.selectedStockType=this.form.get(\"stockTypeId\")?.value;\n          // this.stktrfService.getAddProductListBySendRecLoc(this.form.get(\"sendLocId\")?.value,this.form.get(\"sendSubCompId\")?.value,\n          // this.form.get(\"sendLocStateId\")?.value,this.form.get(\"nilGstInd\")?.value,this.selectedStockType[0],this.form.get(\"stktrfNo\")?.value).subscribe(response => {\n          //   this.prodList=(response.prodList as Array<any>).splice(0);\n          //   this.form.get('productId')?.reset();\n          //   this.medicoUtility.toggleProgressBar(false);\n          // });\n        \n      }\n     \n\n    }\n  \n  }\n\n  deleteDetails() {\n    this.stkAction=\"DD\";\n    this.isDelete=true;\n    this.form.get(\"stockTypeId\")?.reset();\n    if(this.form.get(\"headerId\")?.value !==0) {\n      this.medicoUtility.toggleProgressBar(true);\n      this.stktrfService.getSavedProdListForDelete(this.form.get(\"headerId\")?.value,this.form.get(\"sendLocId\")?.value).subscribe(response => {\n        this.prodList=(response.savedProdList as Array<any>).splice(0);\n        this.form.get('productId')?.reset();\n        this.medicoUtility.toggleProgressBar(false);\n      });\n    }\n  }\n\n  deleteFullTransfer() {\n    this.stkAction=\"DFT\";\n    if(this.form.get(\"stktrfNo\")?.valid) {\n      this.medicoService.confirmBox(\"Confirmation\", \"Do you want to delete Full Stock Transfer?\",\n      \"Ok\", \"Cancel\")\n      .subscribe(result => {\n        if (result == true) {\n          this.deleteFullTransferData();\n        }\n      });\n    \n    }\n  }\n\n  deleteFullTransferData() {\n    this.medicoUtility.toggleProgressBar(true);\n    if(this.form.get(\"stktrfNo\")?.valid && this.form.get(\"headerId\")?.valid) {\n      this.medicoUtility.toggleProgressBar(true);\n      this.form.get(\"saveMode\")?.setValue(\"DELETE_TRF\");\n      this.form.get(\"batchIds\")?.setValue(this.batchIds); \n      this.form.get(\"batchBilledQtys\")?.setValue(this.batchBilledQtys); \n      this.form.get(\"batchFreeQtys\")?.setValue(this.batchFreeQtys);  \n      this.form.get(\"batchTrfRates\")?.setValue(this.batchTrfRates);\n      this.form.get(\"detailIds\")?.setValue(this.detailIds); \n      this.form.get(\"stockTypeId\")?.setValue('');\n      this.form.get(\"stockTypeDetId\")?.setValue(0);\n      try {\n        this.stktrfService.saveStkTrf(this.form).subscribe(response => {\n          if (response.DATA_SAVED) {\n            this.medicoService.openJustSnackBar(response.RESPONSE_MESSAGE, this.constants.snack_bar_milliseconds_8k);\n           this.createNewStkTrf();\n            this.medicoUtility.toggleProgressBar(false);\n  \n          } else {\n            this.medicoUtility.toggleProgressBar(false);\n            this.medicoService.openJustSnackBar(response.RESPONSE_MESSAGE, this.constants.snack_bar_milliseconds_8k);\n          }\n        } , (error) => {\n          this.medicoUtility.toggleProgressBar(false);\n          this.medicoService.openJustSnackBar(\"Network Error Occurred!\", this.constants.snack_bar_milliseconds_8k);\n  \n        });\n  \n      } catch (error) {\n        this.medicoUtility.toggleProgressBar(false);\n        this.medicoService.openJustSnackBar(\"Network Error Occurred!\", this.constants.snack_bar_milliseconds_8k);\n      }\n\n\n    } else {\n      this.medicoUtility.toggleProgressBar(false);\n    }\n  }\n\n  getAddProductListForNS() {\n    if(this.form.get(\"stockTypeId\")?.valid && this.form.get(\"stockTypeId\")?.value !=='' && !this.isSaleable) {\n    this.isSaleable=false;\n    this.medicoUtility.toggleProgressBar(true);\n    this.batchList = new  MatTableDataSource<any>();\n    this.prodList=new Array();\n    this.form.get(\"wthStkQty\")?.reset();\n    this.form.get(\"billableStk\")?.reset();\n    this.form.get(\"totalStock\")?.reset();\n    this.form.get('totalBilledQty')?.reset();\n    this.form.get('totalFreeQty')?.reset();\n    this.form.get('totalStkTrfvalue')?.reset();\n    this.prodDisabled=false;\n    this.enabledProdId='';\n    this.selectedStockType=this.form.get(\"stockTypeId\")?.value;\n    this.stktrfService.getAddProductListBySendRecLoc(this.form.get(\"sendLocId\")?.value,this.form.get(\"sendSubCompId\")?.value,\n    this.form.get(\"sendLocStateId\")?.value,this.form.get(\"nilGstInd\")?.value,this.selectedStockType[0],this.form.get(\"stktrfNo\")?.value).subscribe(response => {\n      this.prodList=(response.prodList as Array<any>).splice(0);\n      this.form.get('productId')?.reset();\n      this.medicoUtility.toggleProgressBar(false);\n    });\n  }\n  }\n\n  getStockTypes() {\n    if(this.form.get(\"tranType\")?.valid && this.form.get(\"tranType\")?.value == '86') {\n      this.medicoUtility.toggleProgressBar(true);\n      this.stktrfService.getStockTypes().subscribe(response => {\n        this.stockTypes = (response.stockTypes as Array<any>).splice(0);     \n        this.medicoUtility.toggleProgressBar(false);\n      });\n      this.medicoUtility.toggleProgressBar(false);\n    } else {\n      this.isSaleable=true;\n    }\n  }\n \n  getBatchDetails() {\n    this.medicoUtility.toggleProgressBar(true);\n    if(this.form.get(\"tranType\")?.valid && this.form.get(\"productId\")?.valid) {\n    \n      this.stktrfService.setProdLock(this.form.get(\"productId\")?.value,this.form.get(\"sendLocId\")?.value,\n      this.session.EMP_ID).subscribe(response => {\n        if(response) {\n          this.prodDisabled=true;\n          this.enabledProdId=this.form.get(\"productId\")?.value;\n            this.medicoUtility.toggleProgressBar(true);\n            if(this.stkAction == 'AP') {\n\n              if(this.form.get(\"tranType\")?.value == '85') {  \n            this.stktrfService.getBatchDetailsForProd(this.form.get(\"recLocation\")?.value,this.form.get(\"sendLocId\")?.value,this.form.get(\"productId\")?.value,\n            this.form.get(\"tranType\")?.value,'').subscribe(response => {\n              this.medicoUtility.toggleProgressBar(true);\n              this.batchList = new MatTableDataSource((response.batchList as Array<any>).slice(0));\n              this.batchList.paginator = this.paginator;\n              this.batchIds=response.batchIds;\n              this.batchTrfRates=response.batchTrfRates;\n              this.batchStocks=response.batchStocks;\n              this.form.get(\"wthStkQty\")?.setValue(response.withheld_stk);\n              this.form.get(\"billableStk\")?.setValue(response.billable_stk);\n              this.form.get(\"totalStock\")?.setValue(response.total_stock);\n              this.medicoUtility.toggleProgressBar(false);\n            });\n          } else {\n            this.selectedStockType=this.form.get(\"stockTypeId\")?.value;\n            this.stktrfService.getBatchDetailsForProd(this.form.get(\"recLocation\")?.value,this.form.get(\"sendLocId\")?.value,this.form.get(\"productId\")?.value,\n            this.form.get(\"tranType\")?.value,this.selectedStockType[0]).subscribe(response => {\n              this.medicoUtility.toggleProgressBar(true);\n              this.batchList = new MatTableDataSource((response.batchList as Array<any>).slice(0));\n              this.batchList.paginator = this.paginator;\n              this.batchIds=response.batchIds;\n              this.batchTrfRates=response.batchTrfRates;\n              this.batchStocks=response.batchStocks;\n              this.form.get(\"wthStkQty\")?.setValue(response.withheld_stk);\n              this.form.get(\"billableStk\")?.setValue(response.billable_stk);\n              this.form.get(\"totalStock\")?.setValue(response.total_stock);\n              this.medicoUtility.toggleProgressBar(false);\n            });\n\n          }\n\n\n          } else if(this.stkAction == 'DD'){\n            this.stktrfService.getBatchDetailsForProdDelete(this.form.get(\"recLocation\")?.value,this.form.get(\"stktrfNo\")?.value,this.form.get(\"productId\")?.value).subscribe(response => {\n              this.medicoUtility.toggleProgressBar(true);\n              this.batchList = new MatTableDataSource((response.batchList as Array<any>).slice(0));\n              this.batchList.paginator = this.paginator;\n              this.batchIds=response.batchIds;\n              this.batchTrfRates=response.batchTrfRates;\n              this.batchStocks=response.batchStocks;\n              this.detailIds=response.detailIds;\n              if(this.form.get(\"tranType\")?.value == '86') {\n                this.isSaleable=false;\n                this.form.get(\"stockTypeId\")?.setValue(response.prodStockMap);\n                this.form.get(\"stockTypeDetId\")?.setValue(response.prodStockMap2);\n              } \n              this.form.get(\"wthStkQty\")?.setValue(response.withheld_stk);\n              this.form.get(\"billableStk\")?.setValue(response.billable_stk);\n              this.form.get(\"totalStock\")?.setValue(response.total_stock);\n              this.form.get(\"billedQty\")?.setValue(response.tot_billed);\n              this.form.get(\"freeQty\")?.setValue(response.tot_free);\n              this.form.get(\"billedStkValue\")?.setValue(response.tot_val);\n              this.form.get(\"totalBilledQty\")?.setValue(response.tot_billed);\n              this.form.get(\"totalFreeQty\")?.setValue(response.tot_free);\n              this.form.get(\"totalStkTrfvalue\")?.setValue(response.tot_val);\n              this.medicoUtility.toggleProgressBar(false);\n            });\n          }\n    \n          \n        } else {\n          this.medicoUtility.toggleProgressBar(false);\n          this.form.get('productId')?.reset();\n          this.medicoService.popup(\"Error Message\", \"In use. Select any other\");\n        }\n\n         \n      });\n\n    } else {\n      this.medicoUtility.toggleProgressBar(false);\n    }\n  }\n\n  resetDetails() {\n    if(this.form.get(\"productId\")?.valid) {\n      this.stktrfService.releaseProdLock(this.form.get(\"productId\")?.value,this.form.get(\"sendLocId\")?.value,\n      this.session.EMP_ID).subscribe(response => {\n      });\n    }\n    this.form.get('productId')?.reset();\n    this.form.get('billedQty')?.reset();\n    this.form.get('freeQty')?.reset();\n    this.form.get('totalStock')?.reset();\n    this.form.get('wthStkQty')?.reset();\n    this.form.get('billableStk')?.reset();\n    this.form.get('billedStkValue')?.reset();\n    this.form.get('totalBilledQty')?.reset();\n    this.form.get('totalFreeQty')?.reset();\n    this.form.get('totalStkTrfvalue')?.reset();\n    this.batchList = new  MatTableDataSource<any>();\n    this.batchIds =new Array();\n    this.batchTrfRates=new Array();\n    this.batchStocks=new Array();\n    this.batchBilledQtys  =new Array();\n    this.batchFreeQtys =new Array();\n    this.batchValues=new Array();\n    this.detailIds =new Array();\n    this.prodDisabled=false;\n    this.enabledProdId='';\n  }\n\n  setBatchBilledQty() {\n    if(this.form.get('billedQty')?.valid) {\n      if(parseFloat(this.form.get(\"billedQty\")?.value) > 0) {\n        if(parseFloat(this.form.get(\"billedQty\")?.value) > parseFloat(this.form.get(\"billableStk\")?.value)) {\n          this.form.get('billedQty')?.reset();\n          this.medicoService.popup(\"Error Message\", \"Insufficient Stock \");\n        } else {\n          //console.log(\"batchBilledQty::\"+this.batchBilledQtys);\n          //console.log(\"batchFreeQty::\"+this.batchFreeQtys);\n          //console.log(\"batchTrfRates::\"+this.batchTrfRates);\n          //console.log(\"batchStocks::\"+this.batchStocks);\n          //console.log(\"batchIds::\"+this.batchIds);\n          var total : string='0';\n          var billed : string =this.form.get(\"billedQty\")?.value;\n          for (let i = 0; i < this.batchIds.length; i++) {\n\n           if(parseFloat(this.batchStocks[i]) >= parseFloat(billed)) {\n              this.batchFreeQtys[i]='0.00';\n              this.batchBilledQtys[i]=parseFloat(billed).toFixed(2);\n              billed='0.00';\n              this.batchValues[i]=(parseFloat(this.batchBilledQtys[i]) * parseFloat(this.batchTrfRates[i])).toFixed(2);\n              total = (parseFloat(total) + parseFloat( this.batchValues[i])).toFixed(2);\n           } else {\n            this.batchFreeQtys[i]='0.00';\n            this.batchBilledQtys[i]=parseFloat(this.batchStocks[i]).toFixed(2);\n            billed=(parseFloat(billed) - parseFloat(this.batchStocks[i])).toFixed(2);\n            this.batchValues[i]=(parseFloat(this.batchBilledQtys[i]) * parseFloat(this.batchTrfRates[i])).toFixed(2);\n            total = (parseFloat(total) + parseFloat( this.batchValues[i])).toFixed(2);\n           }\n          }\n          this.form.get(\"billedStkValue\")?.setValue(total);\n          this.form.get(\"totalBilledQty\")?.setValue(this.form.get(\"billedQty\")?.value);\n          this.form.get(\"totalStkTrfvalue\")?.setValue(total);\n        }\n\n      } else {\n        this.form.get('billedQty')?.reset();\n      }\n    }\n  }\n\n  checkBilledQuantity($event:any,index:any) {\n    var num=$event.target.value;\n    if(parseFloat(num) >= 0) {\n      $event.target.value=parseFloat(num).toFixed(2);\n      var billed_qty : string =this.form.get(\"billedQty\")?.value;\n\t  \tvar total_soldqty = '0';\n      for (let i = 0; i < this.batchIds.length; i++) {\n        total_soldqty=(parseFloat(total_soldqty) + parseFloat(this.batchBilledQtys[i])).toFixed(2);\n        this.batchValues[index]= (parseFloat(num) * parseFloat(this.batchTrfRates[index])).toFixed(2);\n      }\n\n      if(parseFloat(total_soldqty) > parseFloat(billed_qty)) {\n        $event.target.value=0;\n        this.batchValues[index]=0;\n        this.medicoService.popup(\"Error Message\", \"Quantity mismatch\");\n      }\n\n    } else {\n      $event.target.value=0;\n    }\n\n  }\n\n  save() {\n    this.medicoUtility.toggleProgressBar(true);\n    this.form.get(\"currFinYear\")?.setValue(this.session.CURR_FIN_YEAR);\n    this.form.get(\"currPeriodCode\")?.setValue(this.session.CURR_PERIOD);\n    this.form.get(\"empId\")?.setValue(this.session.EMP_ID); \n    this.form.get(\"gstInd\")?.setValue(this.session.gst_ind);\n    this.form.get(\"batchIds\")?.setValue(this.batchIds); \n    this.form.get(\"batchBilledQtys\")?.setValue(this.batchBilledQtys); \n    this.form.get(\"batchFreeQtys\")?.setValue(this.batchFreeQtys);  \n    this.form.get(\"batchTrfRates\")?.setValue(this.batchTrfRates);\n    this.form.get(\"detailIds\")?.setValue(this.detailIds); \n\n    if(!this.isSaleable) {\n      if(this.stkAction == 'DD') {\n        // todo \n      } else {\n        this.selectedStockType=this.form.get(\"stockTypeId\")?.value;\n        this.form.get(\"stockTypeId\")?.setValue(this.selectedStockType[0]);\n        this.form.get(\"stockTypeDetId\")?.setValue(this.selectedStockType[1]);\n      }\n    }\n    if(this.headerFreezed) {\n      this.form.get(\"tranType\")?.setValue(this.tranTypeTemp);\n      this.form.get(\"recLocation\")?.setValue(this.recLocationTemp);\n      this.form.get(\"nilGstInd\")?.setValue(this.nilGstIndTemp);\n    } else {\n      this.tranTypeTemp=this.form.get(\"tranType\")?.value;\n      this.recLocationTemp=this.form.get(\"recLocation\")?.value;\n      this.nilGstIndTemp=this.form.get(\"nilGstInd\")?.value;\n    }\n    \n    if(this.stkAction == 'AP') {\n    this.form.get(\"saveMode\")?.setValue(this.constants.ENTRY_MODE.toString());\n    } else if(this.stkAction == 'DD') {\n      this.form.get(\"saveMode\")?.setValue(this.constants.MODIFY_MODE.toString());\n    } else if(this.stkAction == 'DFT') {\n      this.form.get(\"saveMode\")?.setValue(\"DELETE_TRF\");\n    }\n\n    if(this.form.valid) { \n      this.medicoUtility.toggleProgressBar(true);\n      try {\n      this.stktrfService.saveStkTrf(this.form).subscribe(response => {\n        if (response.DATA_SAVED) {\n\n          if(this.stkAction == 'AP') {\n          this.medicoService.openJustSnackBar(response.RESPONSE_MESSAGE, this.constants.snack_bar_milliseconds_8k);\n          \n          if(this.form.get(\"tranType\")?.value == '85') {\n            this.prodList=this.prodList!.filter(x => x.prodId !== this.form.get(\"productId\")?.value);\n          } else {\n            this.form.get(\"stockTypeId\")?.setValue(this.selectedStockType);\n            this.prodList=this.prodList!.filter(x => x.prodId !== this.form.get(\"productId\")?.value);\n          }\n          this.transNoList=this.transNoList!.filter(x => x.trf_id == this.form.get(\"stktrfNo\")?.value);\n          this.resetDetails();\n          this.form.markAsUntouched();\n          this.headerFreezed = true;\n          this.medicoUtility.toggleProgressBar(false);\n\n        } else if(this.stkAction == 'DD') {\n\n          this.medicoService.openJustSnackBar(response.RESPONSE_MESSAGE, this.constants.snack_bar_milliseconds_8k);\n          \n          if(this.form.get(\"tranType\")?.value == '85') {\n            this.prodList=this.prodList!.filter(x => x.prodId !== this.form.get(\"productId\")?.value);\n          } else {\n            this.form.get(\"stockTypeId\")?.setValue(this.selectedStockType);\n            this.prodList=this.prodList!.filter(x => x.prodId !== this.form.get(\"productId\")?.value);\n          }\n          this.transNoList=this.transNoList!.filter(x => x.trf_id == this.form.get(\"stktrfNo\")?.value);\n          this.resetDetails();\n          this.form.markAsUntouched();\n          this.headerFreezed = true;\n          this.medicoUtility.toggleProgressBar(false);\n\n        } else if(this.stkAction == 'DFT') {\n\n          this.medicoService.openJustSnackBar(response.RESPONSE_MESSAGE, this.constants.snack_bar_milliseconds_8k);\n          \n          if(this.form.get(\"tranType\")?.value == '85') {\n            this.prodList=this.prodList!.filter(x => x.prodId !== this.form.get(\"productId\")?.value);\n          } else {\n            this.form.get(\"stockTypeId\")?.setValue(this.selectedStockType);\n            this.prodList=this.prodList!.filter(x => x.prodId !== this.form.get(\"productId\")?.value);\n          }\n          this.transNoList=this.transNoList!.filter(x => x.trf_id == this.form.get(\"stktrfNo\")?.value);\n          this.resetDetails();\n          this.form.markAsUntouched();\n          this.headerFreezed = true;\n          this.medicoUtility.toggleProgressBar(false);\n\n        }\n\n        } else {\n          this.medicoUtility.toggleProgressBar(false);\n          this.medicoService.openJustSnackBar(response.RESPONSE_MESSAGE, this.constants.snack_bar_milliseconds_8k);\n        }\n      } , (error) => {\n        this.medicoUtility.toggleProgressBar(false);\n        this.medicoService.openJustSnackBar(\"Network Error Occurred!\", this.constants.snack_bar_milliseconds_8k);\n\n      });\n\n    } catch (error) {\n      this.medicoUtility.toggleProgressBar(false);\n      this.medicoService.openJustSnackBar(\"Network Error Occurred!\", this.constants.snack_bar_milliseconds_8k);\n    }\n\n    } else {\n      this.medicoUtility.toggleProgressBar(false);\n    }\n  }\n\n  createNewStkTrf() {\n    this.medicoUtility.toggleProgressBar(true);\n    this.resetDetails();\n    this.form.reset();\n    this.form.markAsUntouched();\n    this.form.get('productId')?.reset();\n    this.form.get('billedQty')?.reset();\n    this.form.get('freeQty')?.reset();\n    this.form.get('totalStock')?.reset();\n    this.form.get('wthStkQty')?.reset();\n    this.form.get('billableStk')?.reset();\n    this.form.get('billedStkValue')?.reset();\n    this.form.get('totalBilledQty')?.reset();\n    this.form.get('totalFreeQty')?.reset();\n    this.form.get('totalStkTrfvalue')?.reset();\n    this.form.get('stockTypeId')?.reset();\n    this.batchList = new  MatTableDataSource<any>();\n    this.batchIds =new Array();\n    this.batchTrfRates=new Array();\n    this.batchStocks=new Array();\n    this.batchBilledQtys  =new Array();\n    this.batchFreeQtys =new Array();\n    this.batchValues=new Array();\n    this.detailIds=new Array();\n    this.prodDisabled=false;\n    this.enabledProdId='';\n\n    this.recLocationList =new Array();\n    this.nilGstOptionsList =new Array();\n    this.tranTypeList =new Array();\n    this.prodList =new Array();\n    this.isSaleable = true;\n    this.stockTypes =new Array();\n    this.isDelete=false;\n    this.transNoList=new Array();\n\n    this.headerFreezed = false;\n    this.tranTypeTemp='';\n    this.recLocationTemp='';\n    this.nilGstIndTemp='';\n    this.form.get(\"headerId\")?.setValue(0);\n    this.form.get(\"saveMode\")?.setValue(this.constants.MODIFY_MODE.toString());\n    this.session = this.medicoUtility.getSessionVariables();\n    this.medicoUtility.toggleProgressBar(false);\n    this.nilGstOptionsList = [ { key: \"N\", value: \"No\"},{ key: \"Y\", value: \"Yes\"}];\n    this.tranTypeList = [ { key: \"85\", value: \"Saleable\"},{ key: \"86\", value: \"Non Saleable\"}];\n    this.form.get(\"nilGstInd\")?.setValue(this.nilGstOptionsList[0].key);\n    this.form.get(\"tranType\")?.setValue(this.tranTypeList[0].key);\n    this.maxDate=new Date();\n    this.minDate=new Date(new Date().getFullYear(), new Date().getMonth(), 1);\n    this.form.get(\"trfDateModify\")?.setValue(new Date());\n    this.stkAction = 'AP';\n    this.getDataForStkTrfModify();\n  }\n\n  checkDetails() {\n    if(this.form.get(\"headerId\")?.value !==0) {\n      this.medicoUtility.toggleProgressBar(true);\n      this.stktrfService.getSavedProdList(this.form.get(\"headerId\")?.value,this.form.get(\"sendLocId\")?.value).subscribe(response => {\n        if (response.savedProdList.length > 0) {\n          const dialogRef = this.dialog.open(StockTrfModifyDetailComponent, {\n            width: '1000px',\n            data: { list : response.savedProdList}\n          });\n        }\n        this.medicoUtility.toggleProgressBar(false);\n      });\n    }\n  }\n\n  clearDate(event:any) {\n    event.stopPropagation();\n    this.form.get(\"trfDateModify\")?.setValue(null);\n  }\n\n  deleteConfirmation() {\n    if(this.form.get(\"stktrfNo\")?.valid && this.form.get(\"productId\")?.valid) {\n      if(this.prodList!.length > 1) {\n      this.medicoService.confirmBox(\"Confirmation\", \"Do you want to delete Item?\",\n      \"Delete\", \"Cancel\")\n      .subscribe(result => {\n        if (result == true) {\n          this.save();\n        }\n      });\n    } else {\n      this.medicoService.popup(\"Message\", \"Single line item in transaction. Deletion not allowed..\");\n    }\n    }\n  }\n\n  unlockprod(){\n\n    this.stktrfService.unlockProducts().subscribe(response => {});\n    this.router.navigate(['/medico-user/home']);\n  }\n\n}\n\n\n@Component({\n  selector: 'stk-trf-detail-dialog',\n  template: `\n  <h1 mat-dialog-title>Product Details</h1>\n  <div mat-dialog-content>\n    <table class=\"mytable table-full-width\">\n      <thead>\n        <tr>\n          <th>Transfer No</th>\n          <th>Product Name</th>\n          <th>Batch Number</th>\n          <th>Sold Qty</th>\n          <th>Rate</th>\n          <th>Value</th>\n        </tr>\n      </thead>\n      <tbody>\n      <tr *ngFor=\"let p of data.list; let i = index;\">\n        <td>{{ p.stockTrfNo }}</td>\n        <td>{{ p.productName }}</td>\n        <td>{{ p.batchNo }}</td>\n        <td align=\"right\">{{ p.soldQty }}</td>\n        <td align=\"right\">{{ p.rate }}</td>\n        <td align=\"right\">{{ (p.soldQty * p.rate).toFixed(2) }}</td>\n       \n      </tr>\n      </tbody>\n    </table>\n  </div>\n  <div mat-dialog-actions class=\"mt-1\">\n    <button mat-raised-button color=\"primary\" mat-dialog-close>Close</button>\n  </div>\n  `,\n})\n\nexport class StockTrfModifyDetailComponent {\n  constructor(\n    public dialogRef: MatDialogRef<StockTrfModifyDetailComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: any\n  ) {}\n  \n  onNoClick(): void {\n    this.dialogRef.close();\n  }\n\n}\n","<form [formGroup]=\"form\">\n  <div class=\"pl-1 pr-1 pb-1 container\">\n    <div fxLayout=\"row\" fxLayout.lt-md=\"column\" class=\"{{ constants.page_div_class }}\">\n      <div fxFlex=\"100%\">\n        <div fxLayout=\"row\" fxLayout.lt-md=\"column\" class=\"pl-1 pt-1\" style=\"margin-bottom: -12px;\">\n\n            <mat-form-field fxFlex=\"25%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Dispatchable/Non Dispatchable</mat-label>\n              <mat-select formControlName=\"tranType\" matNativeControl [ngClass]=\"'mr-r-10'\" required (selectionChange)=\"getTransNoList();getStockTypes();\" [disabled]=\"headerFreezed\">\n                <mat-option *ngFor=\"let list of tranTypeList\" [value]=\"list.key\" >{{ list.value }}</mat-option> \n              </mat-select>\n            </mat-form-field>\n\n            <mat-form-field fxFlex=\"25%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Sending Location</mat-label>\n              <input matInput type=\"text\" formControlName=\"sendLocation\" readonly [tabindex]=\"-1\">\n            </mat-form-field>\n\n            <mat-form-field fxFlex=\"25%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Receiving Location</mat-label>\n              <mat-select formControlName=\"recLocation\" matNativeControl [ngClass]=\"'mr-r-10'\" required (selectionChange)=\"getTransNoList()\" [disabled]=\"headerFreezed\">\n                <mat-option *ngFor=\"let l of recLocationList\" [value]=\"l.loc_id\" >{{ l.loc_nm }}</mat-option> \n              </mat-select>\n            </mat-form-field>\n         \n          \n            <mat-form-field fxFlex=\"25%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Transfer Type</mat-label>\n              <input matInput type=\"text\" formControlName=\"trfType\" readonly [tabindex]=\"-1\" required>\n            </mat-form-field>\n           \n          </div>\n\n          <div fxLayout=\"row\" fxLayout.lt-md=\"column\" class=\"pl-1 pt-0\" style=\"margin-bottom: -12px;\">\n\n            <mat-form-field fxFlex=\"24.3%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Transfer Date</mat-label>\n              <input matInput [matDatepicker]=\"trfDate\" class=\"mat-datepicker-input\" placeholder=\"Transfer Date\" [max]=\"maxDate\" [min]=\"minDate\"\n              required formControlName=\"trfDateModify\" readonly (dateChange)=\"getTransNoList()\">\n              <mat-icon matDatepickerToggleIcon (click)=\"clearDate($event)\">clear</mat-icon>\n              <mat-datepicker-toggle matSuffix [for]=\"trfDate\" [disabled]=\"false\"></mat-datepicker-toggle>\n              <mat-datepicker #trfDate></mat-datepicker>\n            </mat-form-field>\n\n            <mat-form-field fxFlex=\"24.3%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>NIL GST Products</mat-label>\n              <mat-select formControlName=\"nilGstInd\" matNativeControl [ngClass]=\"'mr-r-10'\" required  [disabled]=\"headerFreezed\">\n                <mat-option *ngFor=\"let list of nilGstOptionsList\" [value]=\"list.key\" >{{ list.value }}</mat-option> \n              </mat-select>\n            </mat-form-field>\n\n            <mat-form-field fxFlex=\"24.3%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Transfer No</mat-label>\n              <mat-select formControlName=\"stktrfNo\" matNativeControl [ngClass]=\"'mr-r-10'\" (selectionChange)=\"setHeaderId()\" required  [disabled]=\"headerFreezed\">\n                <mat-option *ngFor=\"let t of transNoList\" [value]=\"t.trf_id\" >{{ t.trf_no }}</mat-option> \n              </mat-select>\n            </mat-form-field>\n          \n          </div>\n\n\n          <div fxLayout=\"row\" fxLayout.lt-md=\"column\" class=\"pl-1 pt-0 pb-1\">\n            <button mat-raised-button type=\"button\" class=\"mr-r-10  color-3\" (click)=\"addProduct()\">Add Product</button>\n            <button mat-raised-button type=\"button\" class=\"mr-r-10  color-3\" (click)=\"deleteDetails()\">Delete Details</button>\n            <button mat-raised-button type=\"button\" class=\"mr-r-10  color-3\" (click)=\"deleteFullTransfer()\">Delete Full Transfer</button>\n          </div>\n\n      </div>    \n    </div>\n\n\n    <div fxLayout=\"row\" fxLayout.lt-md=\"column\" class=\"{{ constants.page_div_class }}\">\n      <div fxFlex=\"100%\">\n        <div fxLayout=\"row\" fxLayout.lt-md=\"column\" class=\"p-1 pb-0\">\n          <span class=\"purple-font bold-font help-title\" fxFlex=\"100%\">Transfer Order</span>\n        </div>\n        <div fxLayout=\"row\" fxLayout.lt-md=\"column\" class=\"pl-1 pt-0\" style=\"margin-bottom: -12px;\">\n\n            <mat-form-field fxFlex=\"24.2%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Stock Type</mat-label>\n              <mat-select formControlName=\"stockTypeId\"  matNativeControl [ngClass]=\"'mr-r-10'\" [disabled]=\"isSaleable\" (selectionChange)=\"getAddProductListForNS()\">\n                <mat-option *ngFor=\"let s of stockTypes\" [value]=\"[s.sgprmdet_nm,s.sg_prmdet_id]\" >{{ s.sgprmdet_disp_nm }}</mat-option> \n              </mat-select>\n            </mat-form-field>\n\n            <mat-form-field fxFlex=\"49.3%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Product</mat-label>\n              <mat-select formControlName=\"productId\" matNativeControl [ngClass]=\"'mr-r-10'\" required (selectionChange)=\"getBatchDetails()\">\n                <mat-option *ngFor=\"let list of prodList\" matTooltip=\"{{ list.prodName }}\" [value]=\"list.prodId\" [disabled]=\"list.prodId !== enabledProdId && prodDisabled\">{{ list.prodName }}</mat-option> \n              </mat-select>\n            </mat-form-field>\n\n            <button mat-raised-button type=\"button\" class=\"mr-r-10  color-3\" (click)=\"resetDetails()\">Reset</button>\n\n          </div>\n\n          <div fxLayout=\"row\" fxLayout.lt-md=\"column\" class=\"pl-1 pt-0\">\n\n\n            <mat-form-field fxFlex=\"25%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n                  <mat-label>Quantity</mat-label>\n              <div *ngIf=\"stkAction == 'AP'\">\n                    <input appNumbersOnly step=\"0.01\"  matInput class=\"text-right\" type=\"text\" formControlName=\"billedQty\"  [tabindex]=\"-1\" required (change)=\"setBatchBilledQty()\">\n              </div>\n              <div *ngIf=\"stkAction == 'DD' || stkAction == 'DFT'\">\n                <input appNumbersOnly step=\"0.01\" readonly matInput class=\"text-right\" type=\"text\" formControlName=\"billedQty\"  [tabindex]=\"-1\" required (change)=\"setBatchBilledQty()\">\n              </div>\n            </mat-form-field>\n           \n\n            <mat-form-field fxFlex=\"25%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Transfer Stock</mat-label>\n              <input matInput type=\"text\" class=\"text-right\" formControlName=\"billableStk\" readonly [tabindex]=\"-1\">\n            </mat-form-field>\n\n            <!-- <mat-form-field fxFlex=\"25%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Free Qty</mat-label>\n              <input appNumbersOnly step=\"0.01\" class=\"text-right\" matInput type=\"text\" formControlName=\"freeQty\"  [tabindex]=\"-1\" readonly>\n            </mat-form-field> -->\n\n            <mat-form-field fxFlex=\"25%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Withheld Stock</mat-label>\n              <input matInput type=\"text\" class=\"text-right\" formControlName=\"wthStkQty\" readonly [tabindex]=\"-1\" >\n            </mat-form-field>\n\n            <mat-form-field fxFlex=\"25%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Total Stock</mat-label>\n              <input matInput type=\"text\" class=\"text-right\" formControlName=\"totalStock\" readonly [tabindex]=\"-1\" >\n            </mat-form-field>\n\n          \n\n            </div>\n\n\n           \n\n              <!-- <mat-form-field fxFlex=\"25%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n                <mat-label>value</mat-label>\n                <input matInput type=\"text\" class=\"text-right\" formControlName=\"billedStkValue\" readonly [tabindex]=\"-1\">\n              </mat-form-field> -->\n  \n\n\n\n\n        </div>\n      </div>\n\n      <div fxLayout=\"row\" fxLayout.lt-md=\"column\" class=\"{{ constants.page_div_class }}\">\n        <div fxFlex=\"100%\">\n          <div fxLayout=\"row\" fxLayout.lt-md=\"column\" class=\"p-1 pb-0\">\n            <span class=\"purple-font bold-font help-title\" fxFlex=\"100%\">Batchwise Dispatch of the Transfer Order</span>\n          </div>\n          <div fxLayout=\"row\" fxLayout.lt-md=\"column\" class=\"p-1 pb-0\">\n          <div class=\"table-container mat-elevation-z2 width-only-100\" >\n            <table mat-table [dataSource]=\"batchList\" matSort\n            class=\"table-borders-right width-only-100 table-th-bg-primary thin-th mat-td-p mat-th-p\">\n            <ng-container matColumnDef=\"BatchNo\">\n              <th mat-header-cell *matHeaderCellDef>Batch No</th>\n              <td mat-cell *matCellDef=\"let row\">{{ row.batch_no }}</td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"MfgDate\">\n              <th mat-header-cell *matHeaderCellDef class=\"right-align\">Mfg Date</th>\n              <td mat-cell *matCellDef=\"let row\" class=\"right-align\">{{ row.mfg_date }}</td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"ExpiryDate\">\n              <th mat-header-cell *matHeaderCellDef class=\"right-align\">Expiry Date</th>\n              <td mat-cell *matCellDef=\"let row\" class=\"right-align\">{{ row.expiry_date }}</td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"Rate\">\n              <th mat-header-cell *matHeaderCellDef class=\"right-align\">Rate</th>\n              <td mat-cell *matCellDef=\"let row\" class=\"right-align\">{{ row.trfRate }}</td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"TaxRate\">\n              <th mat-header-cell *matHeaderCellDef class=\"right-align\">(IGST / SGST+CGST)</th>\n              <td mat-cell *matCellDef=\"let row\" class=\"right-align\">{{ row.taxRate }} %</td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"Stock\">\n              <th mat-header-cell *matHeaderCellDef class=\"right-align\">Stock</th>\n              <td mat-cell *matCellDef=\"let row\" class=\"right-align\"> {{ row.stock }}</td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"BilledQty\">\n              <th mat-header-cell *matHeaderCellDef class=\"right-align\">Transfer Qty</th>\n              <td mat-cell *matCellDef=\"let row;let i = index\" class=\"right-align\">\n                <div *ngIf=\"stkAction == 'AP';then add else delete\"></div>    \n              <ng-template #add>\n                <input appNumbersOnly step=\"0.01\" matInput type=\"text\" class=\"text-right mat-input-batdetails\" [(ngModel)]=\"batchBilledQtys[i]\" [ngModelOptions]=\"{standalone: true}\" (change)=\"checkBilledQuantity($event,i)\" [disabled]=\"isDelete\">\n              </ng-template>\n              <ng-template #delete>\n                {{ row.sold_qty }}\n              </ng-template>\n\n              </td>\n            </ng-container>\n\n            <!-- <ng-container matColumnDef=\"FreeQty\">\n              <th mat-header-cell *matHeaderCellDef>FreeQty</th>\n              <td mat-cell *matCellDef=\"let row;let i = index\" align=\"right\">\n                <div *ngIf=\"stkAction == 'AP';then add else delete\"></div>    \n                <ng-template #add>\n                  <input appNumbersOnly step=\"0.01\" matInput type=\"text\" class=\"text-right mat-input-batdetails\" [(ngModel)]=\"batchFreeQtys[i]\" [ngModelOptions]=\"{standalone: true}\" readonly>\n                </ng-template>\n                <ng-template #delete>\n                  {{ row.free_qty }}\n                </ng-template>\n              </td>\n            </ng-container> -->\n\n            <ng-container matColumnDef=\"Value\">\n              <th mat-header-cell *matHeaderCellDef class=\"right-align\">Value</th>\n              <td mat-cell *matCellDef=\"let row;let i = index\" class=\"right-align\">\n                <div *ngIf=\"stkAction == 'AP';then add else delete\"></div>    \n                <ng-template #add>\n                  {{ batchValues[i] }}\n                 </ng-template>\n                <ng-template #delete>\n                  {{ row.tot_val }}\n                </ng-template>\n            \n            </td>\n            </ng-container>\n           \n            \n\n              <tr mat-header-row *matHeaderRowDef=\"displayedColumns; sticky: true\" mat-sort-header class=\"table-row1\"></tr>\n              <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\" class=\"table-row1\">\n            </table>\n            <mat-paginator [pageSizeOptions]=\"constants.paginator_upto_50\" showFirstLastButtons></mat-paginator>\n          </div>  \n          </div>\n  \n           \n  \n  \n          </div>\n        </div>\n\n          <div fxLayout=\"row\" fxLayout.lt-md=\"column\" class=\"pl-1 pt-1\">\n            <mat-form-field fxFlex=\"15%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Total Transfer Qty</mat-label>\n              <input matInput type=\"text\" class=\"text-right\" formControlName=\"totalBilledQty\" readonly [tabindex]=\"-1\">\n            </mat-form-field>\n\n            <!-- <mat-form-field fxFlex=\"15%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Total Free Qty</mat-label>\n              <input matInput type=\"text\" class=\"text-right\" formControlName=\"totalFreeQty\" readonly [tabindex]=\"-1\">\n            </mat-form-field> -->\n\n            <mat-form-field fxFlex=\"15%\" appearance=\"outline\" [ngClass]=\"'mr-r-10'\" >\n              <mat-label>Total Value</mat-label>\n              <input matInput type=\"text\" class=\"text-right\" formControlName=\"totalStkTrfvalue\" readonly [tabindex]=\"-1\">\n            </mat-form-field>\n\n\n        </div>\n\n      <div fxLayout=\"row\" class=\"mt-1\">\n        <div *ngIf=\"stkAction == 'AP';then add else delete\"></div>    \n        <ng-template #add>\n          <button mat-raised-button type=\"button\" class=\"mr-r-10  {{ constants.save_btn_class }}\" (click)=\"save()\" > Save</button>\n         </ng-template>\n        <ng-template #delete>\n          <button mat-raised-button type=\"button\" class=\"mr-r-10  {{ constants.save_btn_class }}\" (click)=\"deleteConfirmation()\" > Delete</button>\n        </ng-template>\n        <button mat-raised-button type=\"button\" class=\"mr-r-10  color-3\" (click)=\"checkDetails()\">View</button>\n        <button mat-raised-button type=\"button\" class=\"mr-r-10  color-9\" (click)=\"createNewStkTrf()\">New Stock Transfer</button>\n        <button mat-raised-button type=\"button\" class=\"mr-r-10  {{ constants.exit_btn_class }}\" (click)=\"unlockprod()\">Exit</button>\n\n      </div>\n\n  </div>\n</form>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AuthenticationGuard } from 'src/app/guards/authentication.guard/authentication.guard';\nimport { ChildEssentialsModule } from './child.essential.module';\nimport { DirectivesModule } from './directives.module';\nimport { StktrfEntryComponent ,StockTrfDetailComponent} from 'src/app/components/transaction/stktrf-entry/stktrf-entry.component';\nimport { StktrfModifyComponent ,StockTrfModifyDetailComponent} from 'src/app/components/transaction/stktrf-modify/stktrf-modify.component';\nimport { StktrfLrComponent} from 'src/app/components/transaction/stktrf-lr/stktrf-lr.component';\nimport { StktrfPrintComponent } from '../components/transaction/stktrf-print/stktrf-print.component';\nimport { IndividualDetailComponentStocktrfentry,  SummaryDetailComponentStkTrf } from '../components/transaction/str-lr-entry/str-lr-entry.component';\n\nconst routes: Routes = [\n  { path: \"entry\", component: StktrfEntryComponent, canActivate: [ AuthenticationGuard ] },\n  { path: \"modify\", component: StktrfModifyComponent, canActivate: [ AuthenticationGuard ] },\n  { path: \"lr\", component: StktrfLrComponent, canActivate: [ AuthenticationGuard ] },\n]\n  \n\n@NgModule({\n  imports: [\n    RouterModule.forChild(routes),\n    CommonModule,\n    ChildEssentialsModule,\n    DirectivesModule\n  ],\n  exports: [\n    RouterModule\n  ],\n  declarations: [\n    IndividualDetailComponentStocktrfentry,\n    \n    SummaryDetailComponentStkTrf,\n      StktrfEntryComponent,\n    StockTrfDetailComponent,\n    StktrfModifyComponent,\n    StockTrfDetailComponent,\n    StockTrfModifyDetailComponent,\n    StktrfLrComponent,\n  ]\n\n})\nexport class StktrfModule { }\n"],"names":["FormControl","Validators","Constants","MatTableDataSource","MatPaginator","MAT_DIALOG_DATA","i0","elementStart","text","elementEnd","property","list_r2","key","advance","textInterpolate","value","l_r3","loc_id","loc_nm","list_r4","pureFunction2","_c2","s_r5","sgprmdet_nm","sg_prmdet_id","sgprmdet_disp_nm","propertyInterpolate","list_r6","prodName","prodId","ctx_r6","enabledProdId","prodDisabled","row_r8","batch_no","row_r9","mfg_date","row_r10","expiry_date","row_r11","trfRate","textInterpolate1","row_r12","taxRate","row_r13","stock","twoWayListener","StktrfEntryComponent_td_102_Template_input_ngModelChange_1_listener","$event","i_r15","restoreView","_r14","index","nextContext","twoWayBindingSet","batchBilledQtys","resetView","listener","StktrfEntryComponent_td_102_Template_input_change_1_listener","checkBilledQuantity","twoWayProperty","pureFunction0","_c3","batchValues","i_r16","element","p_r1","stockTrfNo","productName","batchNo","soldQty","rate","toFixed","StktrfEntryComponent","userService","stktrfService","medicoUtility","medicoService","fb","dialog","el","router","session","constants","prodSelection","recvloc","recLocationList","nilGstOptionsList","Array","tranTypeList","prodList","isSaleable","stockTypes","batchList","selectedStockType","batchIds","batchTrfRates","batchStocks","batchFreeQtys","headerFreezed","tranTypeTemp","recLocationTemp","nilGstIndTemp","companycode","companyFlag","dispatchParameters","paginator","displayedColumns","form","ngOnInit","constructor","group","saveMode","required","headerId","sendSubCompId","sendLocId","sendLocStateId","stockTypeDetId","tranType","sendLocation","recLocation","trfType","stktrfNo","trfDate","nilGstInd","productId","stockTypeId","billedQty","freeQty","totalStock","wthStkQty","billableStk","billedStkValue","totalBilledQty","totalFreeQty","totalStkTrfvalue","currPeriodCode","currFinYear","empId","gstInd","getcompanydata","subscribe","res","company","trim","headingName","get","setValue","ENTRY_MODE","toString","toggleProgressBar","getSessionVariables","getDataForStkTrfEntry","EMP_ID","response","sendLocName","recLocations","dispatchParametersList","stkTrfDate","scroll","scrollIntoView","behavior","getProductList","valid","reset","getProductListBySendRecLoc","splice","getStockTypes","getBatchDetails","setProdLock","getBatchDetailsForProd","slice","withheld_stk","billable_stk","total_stock","popup","resetDetails","releaseProdLock","setBatchBilledQty","parseFloat","total","billed","i","length","num","target","billed_qty","total_soldqty","save","CURR_FIN_YEAR","CURR_PERIOD","gst_ind","saveStkTrf","DATA_SAVED","openJustSnackBar","RESPONSE_MESSAGE","snack_bar_milliseconds_8k","Number","trans_no","filter","x","markAsUntouched","focus","error","createNewStkTrf","checkDetails","getSavedProdList","savedProdList","dialogRef","open","StockTrfDetailComponent","width","data","list","unlockprod","unlockProducts","navigate","directiveInject","i1","UserService","i2","StktrfService","i3","MedicoUtility","i4","MedicoService","i5","FormBuilder","i6","MatDialog","ElementRef","i7","Router","selectors","viewQuery","StktrfEntryComponent_Query","rf","ctx","StktrfEntryComponent_Template_mat_select_selectionChange_8_listener","_r1","template","StktrfEntryComponent_mat_option_9_Template","StktrfEntryComponent_Template_mat_select_selectionChange_17_listener","StktrfEntryComponent_mat_option_19_Template","StktrfEntryComponent_Template_mat_select_selectionChange_36_listener","StktrfEntryComponent_mat_option_37_Template","StktrfEntryComponent_Template_mat_select_selectionChange_47_listener","StktrfEntryComponent_mat_option_48_Template","StktrfEntryComponent_Template_mat_select_selectionChange_52_listener","StktrfEntryComponent_mat_option_54_Template","StktrfEntryComponent_Template_button_click_55_listener","StktrfEntryComponent_Template_input_change_61_listener","elementContainerStart","StktrfEntryComponent_th_83_Template","StktrfEntryComponent_td_84_Template","StktrfEntryComponent_th_86_Template","StktrfEntryComponent_td_87_Template","StktrfEntryComponent_th_89_Template","StktrfEntryComponent_td_90_Template","StktrfEntryComponent_th_92_Template","StktrfEntryComponent_td_93_Template","StktrfEntryComponent_th_95_Template","StktrfEntryComponent_td_96_Template","StktrfEntryComponent_th_98_Template","StktrfEntryComponent_td_99_Template","StktrfEntryComponent_th_101_Template","StktrfEntryComponent_td_102_Template","StktrfEntryComponent_th_104_Template","StktrfEntryComponent_td_105_Template","StktrfEntryComponent_tr_106_Template","StktrfEntryComponent_tr_107_Template","StktrfEntryComponent_Template_button_click_119_listener","StktrfEntryComponent_Template_button_click_121_listener","StktrfEntryComponent_Template_button_click_123_listener","StktrfEntryComponent_Template_button_click_125_listener","classMap","page_div_class","classMapInterpolate1","paginator_upto_50","save_btn_class","exit_btn_class","onNoClick","close","MatDialogRef","decls","vars","consts","template","StockTrfDetailComponent_Template","StockTrfDetailComponent_tr_19_Template","t_r5","trf_id","trf_no","_c0","s_r6","list_r7","ctx_r7","StktrfModifyComponent_div_72_Template_input_change_1_listener","_r9","StktrfModifyComponent_div_73_Template_input_change_1_listener","_r10","row_r14","row_r15","row_r16","StktrfModifyComponent_td_114_ng_template_2_Template_input_ngModelChange_0_listener","_r17","i_r18","StktrfModifyComponent_td_114_ng_template_2_Template_input_change_0_listener","_c1","isDelete","row_r19","sold_qty","StktrfModifyComponent_td_114_div_1_Template","StktrfModifyComponent_td_114_ng_template_2_Template","templateRefExtractor","StktrfModifyComponent_td_114_ng_template_4_Template","stkAction","add_r20","delete_r21","i_r22","row_r23","tot_val","StktrfModifyComponent_td_117_div_1_Template","StktrfModifyComponent_td_117_ng_template_2_Template","StktrfModifyComponent_td_117_ng_template_4_Template","add_r24","delete_r25","StktrfModifyComponent_ng_template_132_Template_button_click_0_listener","_r26","StktrfModifyComponent_ng_template_134_Template_button_click_0_listener","_r27","deleteConfirmation","StktrfModifyComponent","datePipe","detailIds","transNoList","maxDate","minDate","trfDateModify","Date","MODIFY_MODE","getFullYear","getMonth","getDataForStkTrfModify","getTransNoList","transform","isData","setHeaderId","addProduct","getAddProductListBySendRecLoc","deleteDetails","getSavedProdListForDelete","deleteFullTransfer","confirmBox","result","deleteFullTransferData","getAddProductListForNS","getBatchDetailsForProdDelete","prodStockMap","prodStockMap2","tot_billed","tot_free","StockTrfModifyDetailComponent","clearDate","event","stopPropagation","DatePipe","StktrfModifyComponent_Query","StktrfModifyComponent_Template_mat_select_selectionChange_8_listener","StktrfModifyComponent_mat_option_9_Template","StktrfModifyComponent_Template_mat_select_selectionChange_17_listener","StktrfModifyComponent_mat_option_18_Template","StktrfModifyComponent_Template_input_dateChange_27_listener","StktrfModifyComponent_Template_mat_icon_click_28_listener","StktrfModifyComponent_mat_option_37_Template","StktrfModifyComponent_Template_mat_select_selectionChange_41_listener","StktrfModifyComponent_mat_option_42_Template","StktrfModifyComponent_Template_button_click_44_listener","StktrfModifyComponent_Template_button_click_46_listener","StktrfModifyComponent_Template_button_click_48_listener","StktrfModifyComponent_Template_mat_select_selectionChange_59_listener","StktrfModifyComponent_mat_option_60_Template","StktrfModifyComponent_Template_mat_select_selectionChange_64_listener","StktrfModifyComponent_mat_option_65_Template","StktrfModifyComponent_Template_button_click_66_listener","StktrfModifyComponent_div_72_Template","StktrfModifyComponent_div_73_Template","StktrfModifyComponent_th_95_Template","StktrfModifyComponent_td_96_Template","StktrfModifyComponent_th_98_Template","StktrfModifyComponent_td_99_Template","StktrfModifyComponent_th_101_Template","StktrfModifyComponent_td_102_Template","StktrfModifyComponent_th_104_Template","StktrfModifyComponent_td_105_Template","StktrfModifyComponent_th_107_Template","StktrfModifyComponent_td_108_Template","StktrfModifyComponent_th_110_Template","StktrfModifyComponent_td_111_Template","StktrfModifyComponent_th_113_Template","StktrfModifyComponent_td_114_Template","StktrfModifyComponent_th_116_Template","StktrfModifyComponent_td_117_Template","StktrfModifyComponent_tr_118_Template","StktrfModifyComponent_tr_119_Template","StktrfModifyComponent_div_131_Template","StktrfModifyComponent_ng_template_132_Template","StktrfModifyComponent_ng_template_134_Template","StktrfModifyComponent_Template_button_click_136_listener","StktrfModifyComponent_Template_button_click_138_listener","StktrfModifyComponent_Template_button_click_140_listener","trfDate_r28","add_r29","delete_r30","StockTrfModifyDetailComponent_Template","StockTrfModifyDetailComponent_tr_19_Template","CommonModule","RouterModule","AuthenticationGuard","ChildEssentialsModule","DirectivesModule","StktrfLrComponent","IndividualDetailComponentStocktrfentry","SummaryDetailComponentStkTrf","routes","path","component","canActivate","StktrfModule","forChild","declarations","imports","exports"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}